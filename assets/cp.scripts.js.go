package assets

var CpScriptsJs = []byte(`!function(t,e){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){!function(_){"use strict";var d=["sanitize","whiteList","sanitizeFn"],a=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],t={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function g(t,e){var n=t.nodeName.toLowerCase();if(-1!==_.inArray(n,e))return-1===_.inArray(n,a)||Boolean(t.nodeValue.match(r)||t.nodeValue.match(l));for(var i=_(e).filter(function(t,e){return e instanceof RegExp}),o=0,s=i.length;o<s;o++)if(n.match(i[o]))return!0;return!1}function L(t,e,n){if(n&&"function"==typeof n)return n(t);for(var i=Object.keys(e),o=0,s=t.length;o<s;o++)for(var a=t[o].querySelectorAll("*"),r=0,l=a.length;r<l;r++){var c=a[r],d=c.nodeName.toLowerCase();if(-1!==i.indexOf(d))for(var u=[].slice.call(c.attributes),h=[].concat(e["*"]||[],e[d]||[]),p=0,f=u.length;p<f;p++){var m=u[p];g(m,h)||c.removeAttribute(m.nodeName)}else c.parentNode.removeChild(c)}}"classList"in document.createElement("_")||function(t){if("Element"in t){var e="classList",n="prototype",i=t.Element[n],o=Object,s=function(){var n=_(this);return{add:function(t){return t=Array.prototype.slice.call(arguments).join(" "),n.addClass(t)},remove:function(t){return t=Array.prototype.slice.call(arguments).join(" "),n.removeClass(t)},toggle:function(t,e){return n.toggleClass(t,e)},contains:function(t){return n.hasClass(t)}}};if(o.defineProperty){var a={get:s,enumerable:!0,configurable:!0};try{o.defineProperty(i,e,a)}catch(t){void 0!==t.number&&-2146823252!==t.number||(a.enumerable=!1,o.defineProperty(i,e,a))}}else o[n].__defineGetter__&&i.__defineGetter__(e,s)}}(window);var e,c,n=document.createElement("_");if(n.classList.add("c1","c2"),!n.classList.contains("c2")){var i=DOMTokenList.prototype.add,o=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,i.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,o.bind(this))}}if(n.classList.toggle("c3",!1),n.classList.contains("c3")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:s.call(this,t)}}function u(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==c.call(t))throw new TypeError;var n=e.length,i=String(t),o=i.length,s=1<arguments.length?arguments[1]:void 0,a=s?Number(s):0;a!=a&&(a=0);var r=Math.min(Math.max(a,0),n);if(n<o+r)return!1;for(var l=-1;++l<o;)if(e.charCodeAt(r+l)!=i.charCodeAt(l))return!1;return!0}function D(t){var e,n=[],i=t.selectedOptions;if(t.multiple)for(var o=0,s=i.length;o<s;o++)e=i[o],n.push(e.value||e.text);else n=t.value;return n}n=null,String.prototype.startsWith||(e=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),c={}.toString,e?e(String.prototype,"startsWith",{value:u,configurable:!0,writable:!0}):String.prototype.startsWith=u),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var h={useDefault:!1,_set:_.valHooks.select.set};_.valHooks.select.set=function(t,e){return e&&!h.useDefault&&_(t).data("selected",!0),h._set.apply(this,arguments)};var k=null,p=function(){try{return new Event("change"),!0}catch(t){return!1}}();function S(t,e,n,i){for(var o=["display","subtext","tokens"],s=!1,a=0;a<o.length;a++){var r=o[a],l=t[r];if(l&&(l=l.toString(),"display"===r&&(l=l.replace(/<[^>]+>/g,"")),i&&(l=w(l)),l=l.toUpperCase(),s="contains"===n?0<=l.indexOf(e):l.startsWith(e)))break}return s}function $(t){return parseInt(t,10)||0}_.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(p?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)};var f={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},m=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,v=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function b(t){return f[t]}function w(t){return(t=t.toString())&&t.replace(m,b).replace(v,"")}var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};y[String.fromCharCode(96)]="&#x60;";var x,E,C,I,T=(x=y,E="(?:"+Object.keys(x).join("|")+")",C=RegExp(E),I=RegExp(E,"g"),function(t){return t=null==t?"":""+t,C.test(t)?t.replace(I,A):t});function A(t){return x[t]}var O={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},M=27,N=13,z=32,H=9,P=38,W=40,B={success:!1,major:"3"};try{B.full=(_.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),B.major=B.full[0],B.success=!0}catch(t){}var R=0,F=".bs.select",j={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},U={MENU:"."+j.MENU},V={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};V.a.setAttribute("role","option"),V.subtext.className="text-muted",V.text=V.span.cloneNode(!1),V.text.className="text",V.checkMark=V.span.cloneNode(!1);var Y=new RegExp(P+"|"+W),X=new RegExp("^"+H+"$|"+M),K=function(t,e,n){var i=V.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?i.appendChild(t):i.innerHTML=t),void 0!==e&&""!==e&&(i.className=e),null!=n&&i.classList.add("optgroup-"+n),i},G=function(t,e,n){var i=V.a.cloneNode(!0);return t&&(11===t.nodeType?i.appendChild(t):i.insertAdjacentHTML("beforeend",t)),void 0!==e&&""!==e&&(i.className=e),"4"===B.major&&i.classList.add("dropdown-item"),n&&i.setAttribute("style",n),i},q=function(t,e){var n,i,o=V.text.cloneNode(!1);if(t.content)o.innerHTML=t.content;else{if(o.textContent=t.text,t.icon){var s=V.whitespace.cloneNode(!1);(i=(!0===e?V.i:V.span).cloneNode(!1)).className=t.iconBase+" "+t.icon,V.fragment.appendChild(i),V.fragment.appendChild(s)}t.subtext&&((n=V.subtext.cloneNode(!1)).textContent=t.subtext,o.appendChild(n))}if(!0===e)for(;0<o.childNodes.length;)V.fragment.appendChild(o.childNodes[0]);else V.fragment.appendChild(o);return V.fragment},J=function(t){var e,n,i=V.text.cloneNode(!1);if(i.innerHTML=t.label,t.icon){var o=V.whitespace.cloneNode(!1);(n=V.span.cloneNode(!1)).className=t.iconBase+" "+t.icon,V.fragment.appendChild(n),V.fragment.appendChild(o)}return t.subtext&&((e=V.subtext.cloneNode(!1)).textContent=t.subtext,i.appendChild(e)),V.fragment.appendChild(i),V.fragment},Z=function(t,e){var n=this;h.useDefault||(_.valHooks.select.set=h._set,h.useDefault=!0),this.$element=_(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=e,this.selectpicker={main:{},current:{},search:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){n.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var i=this.options.windowPadding;"number"==typeof i&&(this.options.windowPadding=[i,i,i,i]),this.val=Z.prototype.val,this.render=Z.prototype.render,this.refresh=Z.prototype.refresh,this.setStyle=Z.prototype.setStyle,this.selectAll=Z.prototype.selectAll,this.deselectAll=Z.prototype.deselectAll,this.destroy=Z.prototype.destroy,this.remove=Z.prototype.remove,this.show=Z.prototype.show,this.hide=Z.prototype.hide,this.init()};function Q(t){var r,l=arguments,c=t;if([].shift.apply(l),!B.success){try{B.full=(_.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(t){Z.BootstrapVersion?B.full=Z.BootstrapVersion.split(" ")[0].split("."):(B.full=[B.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",t))}B.major=B.full[0],B.success=!0}if("4"===B.major){var e=[];Z.DEFAULTS.style===j.BUTTONCLASS&&e.push({name:"style",className:"BUTTONCLASS"}),Z.DEFAULTS.iconBase===j.ICONBASE&&e.push({name:"iconBase",className:"ICONBASE"}),Z.DEFAULTS.tickIcon===j.TICKICON&&e.push({name:"tickIcon",className:"TICKICON"}),j.DIVIDER="dropdown-divider",j.SHOW="show",j.BUTTONCLASS="btn-light",j.POPOVERHEADER="popover-header",j.ICONBASE="",j.TICKICON="bs-ok-default";for(var n=0;n<e.length;n++){t=e[n];Z.DEFAULTS[t.name]=j[t.className]}}var i=this.each(function(){var t=_(this);if(t.is("select")){var e=t.data("selectpicker"),n="object"==typeof c&&c;if(e){if(n)for(var i in n)n.hasOwnProperty(i)&&(e.options[i]=n[i])}else{var o=t.data();for(var s in o)o.hasOwnProperty(s)&&-1!==_.inArray(s,d)&&delete o[s];var a=_.extend({},Z.DEFAULTS,_.fn.selectpicker.defaults||{},o,n);a.template=_.extend({},Z.DEFAULTS.template,_.fn.selectpicker.defaults?_.fn.selectpicker.defaults.template:{},o.template,n.template),t.data("selectpicker",e=new Z(this,a))}"string"==typeof c&&(r=e[c]instanceof Function?e[c].apply(e,l):e.options[c])}});return void 0!==r?r:i}Z.VERSION="1.13.9",Z.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:j.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:j.ICONBASE,tickIcon:j.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:t},Z.prototype={constructor:Z,init:function(){var n=this,t=this.$element.attr("id");this.selectId=R++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.options.showTick=this.$element[0].classList.contains("show-tick"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(U.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(j.MENURIGHT),void 0!==t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+F,function(){if(n.isVirtual()){var t=n.$menuInner[0],e=t.firstChild.cloneNode(!1);t.replaceChild(e,t.firstChild),t.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){n.$menuInner.attr("aria-expanded",!1),n.$element.trigger("hide"+F,t)},"hidden.bs.dropdown":function(t){n.$element.trigger("hidden"+F,t)},"show.bs.dropdown":function(t){n.$menuInner.attr("aria-expanded",!0),n.$element.trigger("show"+F,t)},"shown.bs.dropdown":function(t){n.$element.trigger("shown"+F,t)}}),n.$element[0].hasAttribute("required")&&this.$element.on("invalid"+F,function(){n.$button[0].classList.add("bs-invalid"),n.$element.on("shown"+F+".invalid",function(){n.$element.val(n.$element.val()).off("shown"+F+".invalid")}).on("rendered"+F,function(){this.validity.valid&&n.$button[0].classList.remove("bs-invalid"),n.$element.off("rendered"+F)}),n.$button.on("blur"+F,function(){n.$element.trigger("focus").trigger("blur"),n.$button.off("blur"+F)})}),setTimeout(function(){n.createLi(),n.$element.trigger("loaded"+F)})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",e="",n=this.autofocus?" autofocus":"";B.major<4&&this.$element.parent().hasClass("input-group")&&(e=" input-group-btn");var i,o="",s="",a="",r="";return this.options.header&&(o='<div class="'+j.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+T(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+j.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+j.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(r='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+j.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),i='<div class="dropdown bootstrap-select'+t+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+n+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===B.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+j.MENU+" "+("4"===B.major?"":j.SHOW)+'" role="combobox">'+o+s+a+'<div class="inner '+j.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+j.MENU+" inner "+("4"===B.major?j.SHOW:"")+'"></ul></div>'+r+"</div></div>",_(i)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],n=!0;"divider"===e.type?(n=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(n=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function($,t){t=t||0;var A=this;this.selectpicker.current=$?this.selectpicker.search:this.selectpicker.main;var O,M,N=[];function n(t,e){var n,i,o,s,a,r,l,c,d=A.selectpicker.current.elements.length,u=[],h=!0,p=A.isVirtual();A.selectpicker.view.scrollTop=t,!0===p&&A.sizeInfo.hasScrollBar&&A.$menu[0].offsetWidth>A.sizeInfo.totalMenuWidth&&(A.sizeInfo.menuWidth=A.$menu[0].offsetWidth,A.sizeInfo.totalMenuWidth=A.sizeInfo.menuWidth+A.sizeInfo.scrollBarWidth,A.$menu.css("min-width",A.sizeInfo.menuWidth)),n=Math.ceil(A.sizeInfo.menuInnerHeight/A.sizeInfo.liHeight*1.5),i=Math.round(d/n)||1;for(var f=0;f<i;f++){var m=(f+1)*n;if(f===i-1&&(m=d),u[f]=[f*n+(f?1:0),m],!d)break;void 0===a&&t<=A.selectpicker.current.data[m-1].position-A.sizeInfo.menuInnerHeight&&(a=f)}if(void 0===a&&(a=0),r=[A.selectpicker.view.position0,A.selectpicker.view.position1],o=Math.max(0,a-1),s=Math.min(i-1,a+1),A.selectpicker.view.position0=!1===p?0:Math.max(0,u[o][0])||0,A.selectpicker.view.position1=!1===p?d:Math.min(d,u[s][1])||0,l=r[0]!==A.selectpicker.view.position0||r[1]!==A.selectpicker.view.position1,void 0!==A.activeIndex&&(M=A.selectpicker.main.elements[A.prevActiveIndex],N=A.selectpicker.main.elements[A.activeIndex],O=A.selectpicker.main.elements[A.selectedIndex],e&&(A.activeIndex!==A.selectedIndex&&N&&N.length&&(N.classList.remove("active"),N.firstChild&&N.firstChild.classList.remove("active")),A.activeIndex=void 0),A.activeIndex&&A.activeIndex!==A.selectedIndex&&O&&O.length&&(O.classList.remove("active"),O.firstChild&&O.firstChild.classList.remove("active"))),void 0!==A.prevActiveIndex&&A.prevActiveIndex!==A.activeIndex&&A.prevActiveIndex!==A.selectedIndex&&M&&M.length&&(M.classList.remove("active"),M.firstChild&&M.firstChild.classList.remove("active")),(e||l)&&(c=A.selectpicker.view.visibleElements?A.selectpicker.view.visibleElements.slice():[],A.selectpicker.view.visibleElements=!1===p?A.selectpicker.current.elements:A.selectpicker.current.elements.slice(A.selectpicker.view.position0,A.selectpicker.view.position1),A.setOptionStatus(),($||!1===p&&e)&&(h=!function(t,n){return t.length===n.length&&t.every(function(t,e){return t===n[e]})}(c,A.selectpicker.view.visibleElements)),(e||!0===p)&&h)){var g,v,b=A.$menuInner[0],w=document.createDocumentFragment(),y=b.firstChild.cloneNode(!1),x=A.selectpicker.view.visibleElements,E=[];b.replaceChild(y,b.firstChild);f=0;for(var S=x.length;f<S;f++){var C,I,D=x[f];A.options.sanitize&&(C=D.lastChild)&&(I=A.selectpicker.current.data[f+A.selectpicker.view.position0])&&I.content&&!I.sanitized&&(E.push(C),I.sanitized=!0),w.appendChild(D)}A.options.sanitize&&E.length&&L(E,A.options.whiteList,A.options.sanitizeFn),!0===p&&(g=0===A.selectpicker.view.position0?0:A.selectpicker.current.data[A.selectpicker.view.position0-1].position,v=A.selectpicker.view.position1>d-1?0:A.selectpicker.current.data[d-1].position-A.selectpicker.current.data[A.selectpicker.view.position1-1].position,b.firstChild.style.marginTop=g+"px",b.firstChild.style.marginBottom=v+"px"),b.firstChild.appendChild(w)}if(A.prevActiveIndex=A.activeIndex,A.options.liveSearch){if($&&e){var k,T=0;A.selectpicker.view.canHighlight[T]||(T=1+A.selectpicker.view.canHighlight.slice(1).indexOf(!0)),k=A.selectpicker.view.visibleElements[T],A.selectpicker.view.currentActive&&(A.selectpicker.view.currentActive.classList.remove("active"),A.selectpicker.view.currentActive.firstChild&&A.selectpicker.view.currentActive.firstChild.classList.remove("active")),k&&(k.classList.add("active"),k.firstChild&&k.firstChild.classList.add("active")),A.activeIndex=(A.selectpicker.current.data[T]||{}).index}}else A.$menuInner.trigger("focus")}this.setPositionData(),n(t,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(t,e){A.noScroll||n(this.scrollTop,e),A.noScroll=!1}),_(window).off("resize"+F+"."+this.selectId+".createView").on("resize"+F+"."+this.selectId+".createView",function(){A.$newElement.hasClass(j.SHOW)&&n(A.$menuInner[0].scrollTop)})},setPlaceholder:function(){var t=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),t=!0;var e=this.$element[0],n=!1,i=!this.selectpicker.view.titleOption.parentNode;if(i)this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",n=void 0===_(e.options[e.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected");!i&&0===this.selectpicker.view.titleOption.index||e.insertBefore(this.selectpicker.view.titleOption,e.firstChild),n&&(e.selectedIndex=0)}return t},createLi:function(){var l=this,f=this.options.iconBase,m=':not([hidden]):not([data-hidden="true"])',g=[],v=[],c=0,b=0,t=this.setPlaceholder()?1:0;this.options.hideDisabled&&(m+=":not(:disabled)"),!l.options.showTick&&!l.multiple||V.checkMark.parentNode||(V.checkMark.className=f+" "+l.options.tickIcon+" check-mark",V.a.appendChild(V.checkMark));var e=this.$element[0].querySelectorAll("select > *"+m);function w(t){var e=v[v.length-1];e&&"divider"===e.type&&(e.optID||t.optID)||((t=t||{}).type="divider",g.push(K(!1,j.DIVIDER,t.optID?t.optID+"div":void 0)),v.push(t))}function y(t,e){if((e=e||{}).divider="true"===t.getAttribute("data-divider"),e.divider)w({optID:e.optID});else{var n=v.length,i=t.style.cssText,o=i?T(i):"",s=(t.className||"")+(e.optgroupClass||"");e.optID&&(s="opt "+s),e.text=t.textContent,e.content=t.getAttribute("data-content"),e.tokens=t.getAttribute("data-tokens"),e.subtext=t.getAttribute("data-subtext"),e.icon=t.getAttribute("data-icon"),e.iconBase=f;var a=q(e);g.push(K(G(a,s,o),"",e.optID)),t.liIndex=n,e.display=e.content||e.text,e.type="option",e.index=n,e.option=t,e.disabled=e.disabled||t.disabled,v.push(e);var r=0;e.display&&(r+=e.display.length),e.subtext&&(r+=e.subtext.length),e.icon&&(r+=1),c<r&&(c=r,l.selectpicker.view.widestOption=g[g.length-1])}}function n(t,e){var n=e[t],i=e[t-1],o=e[t+1],s=n.querySelectorAll("option"+m);if(s.length){var a,r,l={label:T(n.label),subtext:n.getAttribute("data-subtext"),icon:n.getAttribute("data-icon"),iconBase:f},c=" "+(n.className||"");b++,i&&w({optID:b});var d=J(l);g.push(K(d,"dropdown-header"+c,b)),v.push({display:l.label,subtext:l.subtext,type:"optgroup-label",optID:b});for(var u=0,h=s.length;u<h;u++){var p=s[u];0===u&&(r=(a=v.length-1)+h),y(p,{headerIndex:a,lastIndex:r,optID:b,optgroupClass:c,disabled:n.disabled})}o&&w({optID:b})}}for(var i=e.length;t<i;t++){var o=e[t];"OPTGROUP"!==o.tagName?y(o,{}):n(t,e)}this.selectpicker.main.elements=g,this.selectpicker.main.data=v,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var t,e=this,n=this.$element[0].selectedOptions,i=n.length,o=this.$button[0],s=o.querySelector(".filter-option-inner-inner"),a=document.createTextNode(this.options.multipleSeparator),r=V.fragment.cloneNode(!1),l=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)r=q({text:this.options.title},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<i&&(1<(t=this.options.selectedTextFormat.split(">")).length&&i>t[1]||1===t.length&&2<=i))){for(var c=0;c<i&&c<50;c++){var d=n[c],u={},h={content:d.getAttribute("data-content"),subtext:d.getAttribute("data-subtext"),icon:d.getAttribute("data-icon")};this.multiple&&0<c&&r.appendChild(a.cloneNode(!1)),d.title?u.text=d.title:h.content&&e.options.showContent?(u.content=h.content.toString(),l=!0):(e.options.showIcon&&(u.icon=h.icon,u.iconBase=this.options.iconBase),e.options.showSubtext&&!e.multiple&&h.subtext&&(u.subtext=" "+h.subtext),u.text=d.textContent.trim()),r.appendChild(q(u,!0))}49<i&&r.appendChild(document.createTextNode("..."))}else{var p=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(p+=":not(:disabled)");var f=this.$element[0].querySelectorAll("select > option"+p+", optgroup"+p+" option"+p).length,m="function"==typeof this.options.countSelectedText?this.options.countSelectedText(i,f):this.options.countSelectedText;r=q({text:m.replace("{0}",i.toString()).replace("{1}",f.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),r.childNodes.length||(r=q({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),o.title=r.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&l&&L([r],e.options.whiteList,e.options.sanitizeFn),s.innerHTML="",s.appendChild(r),B.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var g=o.querySelector(".filter-expand"),v=s.cloneNode(!0);v.className="filter-expand",g?o.replaceChild(v,g):o.appendChild(v)}this.$element.trigger("rendered"+F)},setStyle:function(t,e){var n,i=this.$button[0],o=this.$newElement[0],s=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),B.major<4&&(o.classList.add("bs3"),o.parentNode.classList.contains("input-group")&&(o.previousElementSibling||o.nextElementSibling)&&(o.previousElementSibling||o.nextElementSibling).classList.contains("input-group-addon")&&o.classList.add("bs3-has-addon")),n=t?t.trim():s,"add"==e?n&&i.classList.add.apply(i.classList,n.split(" ")):"remove"==e?n&&i.classList.remove.apply(i.classList,n.split(" ")):(s&&i.classList.remove.apply(i.classList,s.split(" ")),n&&i.classList.add.apply(i.classList,n.split(" ")))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("ul"),s=document.createElement("li"),a=document.createElement("li"),r=document.createElement("li"),l=document.createElement("a"),c=document.createElement("span"),d=this.options.header&&0<this.$menu.find("."+j.POPOVERHEADER).length?this.$menu.find("."+j.POPOVERHEADER)[0].cloneNode(!0):null,u=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,f=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",l.className="dropdown-item "+(f?f.className:""),e.className=this.$menu[0].parentNode.className+" "+j.SHOW,e.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(n.style.minWidth=0),n.className=j.MENU+" "+j.SHOW,i.className="inner "+j.SHOW,o.className=j.MENU+" inner "+("4"===B.major?j.SHOW:""),s.className=j.DIVIDER,a.className="dropdown-header",c.appendChild(document.createTextNode("​")),l.appendChild(c),r.appendChild(l),a.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(r),o.appendChild(s),o.appendChild(a),d&&n.appendChild(d),u){var m=document.createElement("input");u.className="bs-searchbox",m.className="form-control",u.appendChild(m),n.appendChild(u)}h&&n.appendChild(h),i.appendChild(o),n.appendChild(i),p&&n.appendChild(p),e.appendChild(n),document.body.appendChild(e);var g,v=r.offsetHeight,b=a?a.offsetHeight:0,w=d?d.offsetHeight:0,y=u?u.offsetHeight:0,x=h?h.offsetHeight:0,E=p?p.offsetHeight:0,S=_(s).outerHeight(!0),C=!!window.getComputedStyle&&window.getComputedStyle(n),I=n.offsetWidth,D=C?null:_(n),k={vert:$(C?C.paddingTop:D.css("paddingTop"))+$(C?C.paddingBottom:D.css("paddingBottom"))+$(C?C.borderTopWidth:D.css("borderTopWidth"))+$(C?C.borderBottomWidth:D.css("borderBottomWidth")),horiz:$(C?C.paddingLeft:D.css("paddingLeft"))+$(C?C.paddingRight:D.css("paddingRight"))+$(C?C.borderLeftWidth:D.css("borderLeftWidth"))+$(C?C.borderRightWidth:D.css("borderRightWidth"))},T={vert:k.vert+$(C?C.marginTop:D.css("marginTop"))+$(C?C.marginBottom:D.css("marginBottom"))+2,horiz:k.horiz+$(C?C.marginLeft:D.css("marginLeft"))+$(C?C.marginRight:D.css("marginRight"))+2};i.style.overflowY="scroll",g=n.offsetWidth-I,document.body.removeChild(e),this.sizeInfo.liHeight=v,this.sizeInfo.dropdownHeaderHeight=b,this.sizeInfo.headerHeight=w,this.sizeInfo.searchHeight=y,this.sizeInfo.actionsHeight=x,this.sizeInfo.doneButtonHeight=E,this.sizeInfo.dividerHeight=S,this.sizeInfo.menuPadding=k,this.sizeInfo.menuExtras=T,this.sizeInfo.menuWidth=I,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=g,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,e=_(window),n=this.$newElement.offset(),i=_(this.options.container);this.options.container&&i.length&&!i.is("body")?((t=i.offset()).top+=parseInt(i.css("borderTopWidth")),t.left+=parseInt(i.css("borderLeftWidth"))):t={top:0,left:0};var o=this.options.windowPadding;this.sizeInfo.selectOffsetTop=n.top-t.top-e.scrollTop(),this.sizeInfo.selectOffsetBot=e.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-o[2],this.sizeInfo.selectOffsetLeft=n.left-t.left-e.scrollLeft(),this.sizeInfo.selectOffsetRight=e.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(t){this.getSelectPosition();var e,n,i,o,s,a,r,l=this.sizeInfo.selectWidth,c=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,u=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(r=c*this.selectpicker.current.elements.length+m.vert,this.$newElement.toggleClass(j.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&r+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)o=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=o+d+u+h+p,a=Math.max(o-m.vert,0),this.$newElement.hasClass(j.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),e=(s=n)-d-u-h-p-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&g++;e=(n=c*this.options.size+g*f+m.vert)-m.vert,s=n+d+u+h+p,i=a=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(j.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-l),this.$menu.css({"max-height":s+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":a+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var e,n=this,i=_(window),o=0;if(this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),"auto"===this.options.size?i.off("resize"+F+"."+this.selectId+".setMenuSize scroll"+F+"."+this.selectId+".setMenuSize").on("resize"+F+"."+this.selectId+".setMenuSize scroll"+F+"."+this.selectId+".setMenuSize",function(){return n.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&i.off("resize"+F+"."+this.selectId+".setMenuSize scroll"+F+"."+this.selectId+".setMenuSize"),t)o=this.$menuInner[0].scrollTop;else if(!n.multiple){var s=n.$element[0];"number"==typeof(e=(s.options[s.selectedIndex]||{}).liIndex)&&!1!==n.options.size&&(o=(o=n.sizeInfo.liHeight*e)-n.sizeInfo.menuInnerHeight/2+n.sizeInfo.liHeight/2)}n.createView(!1,o)}},setWidth:function(){var n=this;"auto"===this.options.width?requestAnimationFrame(function(){n.$menu.css("min-width","0"),n.$element.on("loaded"+F,function(){n.liHeight(),n.setMenuSize();var t=n.$newElement.clone().appendTo("body"),e=t.css("width","auto").children("button").outerWidth();t.remove(),n.sizeInfo.selectWidth=Math.max(n.sizeInfo.totalMenuWidth,e),n.$newElement.css("width",n.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=_('<div class="bs-container" />');function t(t){var e={},n=a.options.display||!!_.fn.dropdown.Constructor.Default&&_.fn.dropdown.Constructor.Default.display;a.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(j.DROPUP,t.hasClass(j.DROPUP)),i=t.offset(),r.is("body")?o={top:0,left:0}:((o=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),o.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),s=t.hasClass(j.DROPUP)?0:t[0].offsetHeight,(B.major<4||"static"===n)&&(e.top=i.top-o.top+s,e.left=i.left-o.left),e.width=t[0].offsetWidth,a.$bsContainer.css(e)}var i,o,s,a=this,r=_(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){a.isDisabled()||(t(a.$newElement),a.$bsContainer.appendTo(a.options.container).toggleClass(j.SHOW,!a.$button.hasClass(j.SHOW)).append(a.$menu))}),_(window).off("resize"+F+"."+this.selectId+" scroll"+F+"."+this.selectId).on("resize"+F+"."+this.selectId+" scroll"+F+"."+this.selectId,function(){a.$newElement.hasClass(j.SHOW)&&t(a.$newElement)}),this.$element.on("hide"+F,function(){a.$menu.data("height",a.$menu.height()),a.$bsContainer.detach()})},setOptionStatus:function(){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length)for(var e=0;e<t.selectpicker.view.visibleElements.length;e++){var n=t.selectpicker.current.data[e+t.selectpicker.view.position0],i=n.option;i&&(t.setDisabled(n.index,n.disabled),t.setSelected(n.index,i.selected))}},setSelected:function(t,e){var n,i,o=this.selectpicker.main.elements[t],s=this.selectpicker.main.data[t],a=void 0!==this.activeIndex,r=this.activeIndex===t||e&&!this.multiple&&!a;s.selected=e,i=o.firstChild,e&&(this.selectedIndex=t),o.classList.toggle("selected",e),o.classList.toggle("active",r),r&&(this.selectpicker.view.currentActive=o,this.activeIndex=t),i&&(i.classList.toggle("selected",e),i.classList.toggle("active",r),i.setAttribute("aria-selected",e)),r||!a&&e&&void 0!==this.prevActiveIndex&&((n=this.selectpicker.main.elements[this.prevActiveIndex]).classList.remove("active"),n.firstChild&&n.firstChild.classList.remove("active"))},setDisabled:function(t,e){var n,i=this.selectpicker.main.elements[t];this.selectpicker.main.data[t].disabled=e,n=i.firstChild,i.classList.toggle(j.DISABLED,e),n&&("4"===B.major&&n.classList.toggle(j.DISABLED,e),n.setAttribute("aria-disabled",e),e?n.setAttribute("tabindex",-1):n.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement[0].classList.add(j.DISABLED),this.$button.addClass(j.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(j.DISABLED)&&(this.$newElement[0].classList.remove(j.DISABLED),this.$button.removeClass(j.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element[0],e=t.selectedIndex,n=-1===e;n||t.options[e].value||(n=!0),this.$button.toggleClass("bs-placeholder",n)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var I=this,e=_(document);function t(){I.options.liveSearch?I.$searchbox.trigger("focus"):I.$menuInner.trigger("focus")}function n(){I.dropdown&&I.dropdown._popper&&I.dropdown._popper.state.isCreated?t():requestAnimationFrame(n)}e.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&e.data("spaceSelect")&&(t.preventDefault(),e.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<B.major&&!I.dropdown&&(I.dropdown=I.$button.data("bs.dropdown"),I.dropdown._menu=I.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){I.$newElement.hasClass(j.SHOW)||I.setSize()}),this.$element.on("shown"+F,function(){I.$menuInner[0].scrollTop!==I.selectpicker.view.scrollTop&&(I.$menuInner[0].scrollTop=I.selectpicker.view.scrollTop),3<B.major?requestAnimationFrame(n):t()}),this.$menuInner.on("click","li a",function(t,e){var n=_(this),i=I.isVirtual()?I.selectpicker.view.position0:0,o=I.selectpicker.current.data[n.parent().index()+i],s=o.index,a=D(I.$element[0]),r=I.$element.prop("selectedIndex"),l=!0;if(I.multiple&&1!==I.options.maxOptions&&t.stopPropagation(),t.preventDefault(),!I.isDisabled()&&!n.parent().hasClass(j.DISABLED)){var c=I.$element.find("option"),d=o.option,u=_(d),h=d.selected,p=u.parent("optgroup"),f=p.find("option"),m=I.options.maxOptions,g=p.data("maxOptions")||!1;if(s===I.activeIndex&&(e=!0),e||(I.prevActiveIndex=I.activeIndex,I.activeIndex=void 0),I.multiple){if(d.selected=!h,I.setSelected(s,!h),n.trigger("blur"),!1!==m||!1!==g){var v=m<c.filter(":selected").length,b=g<p.find("option:selected").length;if(m&&v||g&&b)if(m&&1==m){c.prop("selected",!1),u.prop("selected",!0);for(var w=0;w<c.length;w++)I.setSelected(w,!1);I.setSelected(s,!0)}else if(g&&1==g){p.find("option:selected").prop("selected",!1),u.prop("selected",!0);for(w=0;w<f.length;w++){d=f[w];I.setSelected(c.index(d),!1)}I.setSelected(s,!0)}else{var y="string"==typeof I.options.maxOptionsText?[I.options.maxOptionsText,I.options.maxOptionsText]:I.options.maxOptionsText,x="function"==typeof y?y(m,g):y,E=x[0].replace("{n}",m),S=x[1].replace("{n}",g),C=_('<div class="notify"></div>');x[2]&&(E=E.replace("{var}",x[2][1<m?0:1]),S=S.replace("{var}",x[2][1<g?0:1])),u.prop("selected",!1),I.$menu.append(C),m&&v&&(C.append(_("<div>"+E+"</div>")),l=!1,I.$element.trigger("maxReached"+F)),g&&b&&(C.append(_("<div>"+S+"</div>")),l=!1,I.$element.trigger("maxReachedGrp"+F)),setTimeout(function(){I.setSelected(s,!1)},10),C.delay(750).fadeOut(300,function(){_(this).remove()})}}}else c.prop("selected",!1),d.selected=!0,I.setSelected(s,!0);!I.multiple||I.multiple&&1===I.options.maxOptions?I.$button.trigger("focus"):I.options.liveSearch&&I.$searchbox.trigger("focus"),l&&(a!=D(I.$element[0])&&I.multiple||r!=I.$element.prop("selectedIndex")&&!I.multiple)&&(k=[d.index,u.prop("selected"),a],I.$element.triggerNative("change"))}}),this.$menu.on("click","li."+j.DISABLED+" a, ."+j.POPOVERHEADER+", ."+j.POPOVERHEADER+" :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),I.options.liveSearch&&!_(t.target).hasClass("close")?I.$searchbox.trigger("focus"):I.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),I.options.liveSearch?I.$searchbox.trigger("focus"):I.$button.trigger("focus")}),this.$menu.on("click","."+j.POPOVERHEADER+" .close",function(){I.$button.trigger("click")}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){I.options.liveSearch?I.$searchbox.trigger("focus"):I.$button.trigger("focus"),t.preventDefault(),t.stopPropagation(),_(this).hasClass("bs-select-all")?I.selectAll():I.deselectAll()}),this.$element.on("change"+F,function(){I.render(),I.$element.trigger("changed"+F,k),k=null}).on("focus"+F,function(){I.options.mobile||I.$button.trigger("focus")})},liveSearchListener:function(){var p=this,f=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){p.$searchbox.val()&&p.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t=p.$searchbox.val();if(p.selectpicker.search.elements=[],p.selectpicker.search.data=[],t){var e=[],n=t.toUpperCase(),i={},o=[],s=p._searchStyle(),a=p.options.liveSearchNormalize;a&&(n=w(n)),p._$lisSelected=p.$menuInner.find(".selected");for(var r=0;r<p.selectpicker.main.data.length;r++){var l=p.selectpicker.main.data[r];i[r]||(i[r]=S(l,n,s,a)),i[r]&&void 0!==l.headerIndex&&-1===o.indexOf(l.headerIndex)&&(0<l.headerIndex&&(i[l.headerIndex-1]=!0,o.push(l.headerIndex-1)),i[l.headerIndex]=!0,o.push(l.headerIndex),i[l.lastIndex+1]=!0),i[r]&&"optgroup-label"!==l.type&&o.push(r)}r=0;for(var c=o.length;r<c;r++){var d=o[r],u=o[r-1],h=(l=p.selectpicker.main.data[d],p.selectpicker.main.data[u]);("divider"!==l.type||"divider"===l.type&&h&&"divider"!==h.type&&c-1!==r)&&(p.selectpicker.search.data.push(l),e.push(p.selectpicker.main.elements[d]))}p.activeIndex=void 0,p.noScroll=!0,p.$menuInner.scrollTop(0),p.selectpicker.search.elements=e,p.createView(!0),e.length||(f.className="no-results",f.innerHTML=p.options.noneResultsText.replace("{0}",'"'+T(t)+'"'),p.$menuInner[0].firstChild.appendChild(f))}else p.$menuInner.scrollTop(0),p.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){if(void 0===t)return this.$element.val();var e=D(this.$element[0]);return k=[null,null,e],this.$element.val(t).trigger("changed"+F,k),this.render(),k=null,this.$element},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element[0],n=0,i=0,o=D(e);e.classList.add("bs-select-hidden");for(var s=0,a=this.selectpicker.current.elements.length;s<a;s++){var r=this.selectpicker.current.data[s],l=r.option;l&&!r.disabled&&"divider"!==r.type&&(r.selected&&n++,(l.selected=t)&&i++)}e.classList.remove("bs-select-hidden"),n!==i&&(this.setOptionStatus(),this.togglePlaceholder(),k=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var e,n,i,o,s,a=_(this),r=a.hasClass("dropdown-toggle"),l=(r?a.closest(".dropdown"):a.closest(U.MENU)).data("this"),c=l.findLis(),d=!1,u=t.which===H&&!r&&!l.options.selectOnTab,h=Y.test(t.which)||u,p=l.$menuInner[0].scrollTop,f=l.isVirtual(),m=!0===f?l.selectpicker.view.position0:0;if(!(n=l.$newElement.hasClass(j.SHOW))&&(h||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&(l.$button.trigger("click.bs.dropdown.data-api"),l.options.liveSearch))l.$searchbox.trigger("focus");else{if(t.which===M&&n&&(t.preventDefault(),l.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),h){if(!c.length)return;void 0===(e=!0===f?c.index(c.filter(".active")):l.activeIndex)&&(e=-1),-1!==e&&((i=l.selectpicker.current.elements[e+m]).classList.remove("active"),i.firstChild&&i.firstChild.classList.remove("active")),t.which===P?(-1!==e&&e--,e+m<0&&(e+=c.length),l.selectpicker.view.canHighlight[e+m]||-1===(e=l.selectpicker.view.canHighlight.slice(0,e+m).lastIndexOf(!0)-m)&&(e=c.length-1)):t.which!==W&&!u||(++e+m>=l.selectpicker.view.canHighlight.length&&(e=0),l.selectpicker.view.canHighlight[e+m]||(e=e+1+l.selectpicker.view.canHighlight.slice(e+m+1).indexOf(!0))),t.preventDefault();var g=m+e;t.which===P?0===m&&e===c.length-1?(l.$menuInner[0].scrollTop=l.$menuInner[0].scrollHeight,g=l.selectpicker.current.elements.length-1):d=(s=(o=l.selectpicker.current.data[g]).position-o.height)<p:t.which!==W&&!u||(0===e?g=l.$menuInner[0].scrollTop=0:d=p<(s=(o=l.selectpicker.current.data[g]).position-l.sizeInfo.menuInnerHeight)),(i=l.selectpicker.current.elements[g])&&(i.classList.add("active"),i.firstChild&&i.firstChild.classList.add("active")),l.activeIndex=l.selectpicker.current.data[g].index,l.selectpicker.view.currentActive=i,d&&(l.$menuInner[0].scrollTop=s),l.options.liveSearch?l.$searchbox.trigger("focus"):a.trigger("focus")}else if(!a.is("input")&&!X.test(t.which)||t.which===z&&l.selectpicker.keydown.keyHistory){var v,b,w=[];t.preventDefault(),l.selectpicker.keydown.keyHistory+=O[t.which],l.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(l.selectpicker.keydown.resetKeyHistory.cancel),l.selectpicker.keydown.resetKeyHistory.cancel=l.selectpicker.keydown.resetKeyHistory.start(),b=l.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0));for(var y=0;y<l.selectpicker.current.data.length;y++){var x=l.selectpicker.current.data[y];S(x,b,"startsWith",!0)&&l.selectpicker.view.canHighlight[y]&&w.push(x.index)}if(w.length){var E=0;c.removeClass("active").find("a").removeClass("active"),1===b.length&&(-1===(E=w.indexOf(l.activeIndex))||E===w.length-1?E=0:E++),v=w[E],d=0<p-(o=l.selectpicker.main.data[v]).position?(s=o.position-o.height,!0):(s=o.position-l.sizeInfo.menuInnerHeight,o.position>p+l.sizeInfo.menuInnerHeight),(i=l.selectpicker.main.elements[v]).classList.add("active"),i.firstChild&&i.firstChild.classList.add("active"),l.activeIndex=w[E],i.firstChild.focus(),d&&(l.$menuInner[0].scrollTop=s),a.trigger("focus")}}n&&(t.which===z&&!l.selectpicker.keydown.keyHistory||t.which===N||t.which===H&&l.options.selectOnTab)&&(t.which!==z&&t.preventDefault(),l.options.liveSearch&&t.which===z||(l.$menuInner.find(".active a").trigger("click",!0),a.trigger("focus"),l.options.liveSearch||(t.preventDefault(),_(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var t=_.extend({},this.options,this.$element.data());this.options=t,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+F)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(F).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),_(window).off(F+"."+this.selectId)}};var tt=_.fn.selectpicker;_.fn.selectpicker=Q,_.fn.selectpicker.Constructor=Z,_.fn.selectpicker.noConflict=function(){return _.fn.selectpicker=tt,this},_(document).off("keydown.bs.dropdown.data-api").on("keydown"+F,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',Z.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(t){t.stopPropagation()}),_(window).on("load"+F+".data-api",function(){_(".selectpicker").each(function(){var t=_(this);Q.call(t,t.data())})})}(t)}),function(t,e){if("function"==typeof define&&define.amd)define(["module","exports"],e);else if("undefined"!=typeof exports)e(module,exports);else{var n={exports:{}};e(n,n.exports),t.autosize=n.exports}}(this,function(t,e){"use strict";var n,i,u="function"==typeof Map?new Map:(n=[],i=[],{has:function(t){return-1<n.indexOf(t)},get:function(t){return i[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),i.push(e))},delete:function(t){var e=n.indexOf(t);-1<e&&(n.splice(e,1),i.splice(e,1))}}),h=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){h=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function o(o){if(o&&o.nodeName&&"TEXTAREA"===o.nodeName&&!u.has(o)){var t,n=null,i=null,s=null,a=function(){o.clientWidth!==i&&d()},r=function(e){window.removeEventListener("resize",a,!1),o.removeEventListener("input",d,!1),o.removeEventListener("keyup",d,!1),o.removeEventListener("autosize:destroy",r,!1),o.removeEventListener("autosize:update",d,!1),Object.keys(e).forEach(function(t){o.style[t]=e[t]}),u.delete(o)}.bind(o,{height:o.style.height,resize:o.style.resize,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap});o.addEventListener("autosize:destroy",r,!1),"onpropertychange"in o&&"oninput"in o&&o.addEventListener("keyup",d,!1),window.addEventListener("resize",a,!1),o.addEventListener("input",d,!1),o.addEventListener("autosize:update",d,!1),o.style.overflowX="hidden",o.style.wordWrap="break-word",u.set(o,{destroy:r,update:d}),"vertical"===(t=window.getComputedStyle(o,null)).resize?o.style.resize="none":"both"===t.resize&&(o.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),d()}function l(t){var e=o.style.width;o.style.width="0px",o.offsetWidth,o.style.width=e,o.style.overflowY=t}function c(){if(0!==o.scrollHeight){var t=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(o),e=document.documentElement&&document.documentElement.scrollTop;o.style.height="",o.style.height=o.scrollHeight+n+"px",i=o.clientWidth,t.forEach(function(t){t.node.scrollTop=t.scrollTop}),e&&(document.documentElement.scrollTop=e)}}function d(){c();var t=Math.round(parseFloat(o.style.height)),e=window.getComputedStyle(o,null),n="content-box"===e.boxSizing?Math.round(parseFloat(e.height)):o.offsetHeight;if(n<t?"hidden"===e.overflowY&&(l("scroll"),c(),n="content-box"===e.boxSizing?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight):"hidden"!==e.overflowY&&(l("hidden"),c(),n="content-box"===e.boxSizing?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight),s!==n){s=n;var i=h("autosize:resized");try{o.dispatchEvent(i)}catch(t){}}}}function s(t){var e=u.get(t);e&&e.destroy()}function a(t){var e=u.get(t);e&&e.update()}var r=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((r=function(t){return t}).destroy=function(t){return t},r.update=function(t){return t}):((r=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return o(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t},r.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],a),t}),e.default=r,t.exports=e.default}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function M(o){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},e=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),e.forEach(function(t){var e,n,i;e=o,i=s[n=t],n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i})}return o}function r(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function e(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function t(t){return!!navigator.userAgent.match(t)}var y=t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),x=t(/Edge/i),l=t(/firefox/i),c=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),n=t(/iP(ad|od|hone)/i),s=t(/chrome/i)&&t(/android/i),d={capture:!1,passive:!1};function u(t,e,n){t.addEventListener(e,n,!y&&d)}function h(t,e,n){t.removeEventListener(e,n,!y&&d)}function p(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function N(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&p(t,e):p(t,e))||i&&t===n)return t;if(t===n)break}while(t=(o=t).host&&o!==document&&o.host.nodeType?o.host:o.parentNode)}var o;return null}var f,m=/\s+/g;function _(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(m," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(m," ")}}function L(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function g(t,e){var n="";do{var i=L(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix;return o&&new o(n)}function v(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,s=i.length;if(n)for(;o<s;o++)n(i[o],o);return i}return[]}function $(){return y?document.documentElement:document.scrollingElement}function z(t,e,n,i,o){if(t.getBoundingClientRect||t===window){var s,a,r,l,c,d,u;if(u=t!==window&&t!==$()?(a=(s=t.getBoundingClientRect()).top,r=s.left,l=s.bottom,c=s.right,d=s.height,s.width):(r=a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!y))do{if(o&&o.getBoundingClientRect&&("none"!==L(o,"transform")||n&&"static"!==L(o,"position"))){var h=o.getBoundingClientRect();a-=h.top+parseInt(L(o,"border-top-width")),r-=h.left+parseInt(L(o,"border-left-width")),l=a+s.height,c=r+s.width;break}}while(o=o.parentNode);if(i&&t!==window){var p=g(o||t),f=p&&p.a,m=p&&p.d;p&&(l=(a/=m)+(d/=m),c=(r/=f)+(u/=f))}return{top:a,left:r,bottom:l,right:c,width:u,height:d}}}function H(t,e,n,i){for(var o=A(t,!0),s=(e||z(t))[n];o;){var a=z(o)[i];if(!("top"===i||"left"===i?a<=s:s<=a))return o;if(o===$())break;o=A(o,!1)}return!1}function b(t,e,n){for(var i=0,o=0,s=t.children;o<s.length;){if("none"!==s[o].style.display&&s[o]!==Ot.ghost&&s[o]!==Ot.dragged&&N(s[o],n.draggable,t,!1)){if(i===e)return s[o];i++}o++}return null}function P(t,e){for(var n=t.lastElementChild;n&&(n===Ot.ghost||"none"===L(n,"display")||e&&!p(n,e));)n=n.previousElementSibling;return n||null}function W(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Ot.clone||e&&!p(t,e)||n++;return n}function w(t){var e=0,n=0,i=$();if(t)do{var o=g(t),s=o.a,a=o.d;e+=t.scrollLeft*s,n+=t.scrollTop*a}while(t!==i&&(t=t.parentNode));return[e,n]}function A(t,e){if(!t||!t.getBoundingClientRect)return $();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=L(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return $();if(i||e)return n;i=!0}}}while(n=n.parentNode);return $()}function E(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function S(e,n){return function(){if(!f){var t=arguments;1===t.length?e.call(this,t[0]):e.apply(this,t),f=setTimeout(function(){f=void 0},n)}}}function B(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function C(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function I(t,e){L(t,"position","absolute"),L(t,"top",e.top),L(t,"left",e.left),L(t,"width",e.width),L(t,"height",e.height)}function D(t){L(t,"position",""),L(t,"top",""),L(t,"left",""),L(t,"width",""),L(t,"height","")}var R="Sortable"+(new Date).getTime();function k(){var e,i=[];return{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if("none"!==L(t,"display")&&t!==Ot.ghost){i.push({target:t,rect:z(t)});var e=z(t);if(t.thisAnimationDuration){var n=g(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}})},addAnimationState:function(t){i.push(t)},removeAnimationState:function(t){i.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}(i,{target:t}),1)},animateAll:function(t){var c=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof t&&t());var d=!1,u=0;i.forEach(function(t){var e=0,n=t.target,i=n.fromRect,o=z(n),s=n.prevFromRect,a=n.prevToRect,r=t.rect,l=g(n,!0);l&&(o.top-=l.f,o.left-=l.e),n.toRect=o,(H(n,o,"bottom","top")||H(n,o,"top","bottom")||H(n,o,"right","left")||H(n,o,"left","right"))&&(H(n,r,"bottom","top")||H(n,r,"top","bottom")||H(n,r,"right","left")||H(n,r,"left","right"))&&(H(n,i,"bottom","top")||H(n,i,"top","bottom")||H(n,i,"right","left")||H(n,i,"left","right"))||(n.thisAnimationDuration&&E(s,o)&&!E(i,o)&&(r.top-o.top)/(r.left-o.left)==(i.top-o.top)/(i.left-o.left)&&(e=function(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}(r,s,a,c.options)),E(o,i)||(n.prevFromRect=i,n.prevToRect=o,e=e||c.options.animation,c.animate(n,r,e)),e&&(d=!0,u=Math.max(u,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e))}),clearTimeout(e),d?e=setTimeout(function(){"function"==typeof t&&t()},u):"function"==typeof t&&t(),i=[]},animate:function(t,e,n){if(n){L(t,"transition",""),L(t,"transform","");var i=z(t),o=g(this.el),s=o&&o.a,a=o&&o.d,r=(e.left-i.left)/(s||1),l=(e.top-i.top)/(a||1);t.animatingX=!!r,t.animatingY=!!l,L(t,"transform","translate3d("+r+"px,"+l+"px,0)"),function(t){t.offsetWidth}(t),L(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),L(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){L(t,"transition",""),L(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},n)}}}}var T=[],O={initializeByDefault:!0},F={mount:function(t){for(var e in O)!O.hasOwnProperty(e)||e in t||(t[e]=O[e]);T.push(t)},pluginEvent:function(e,n,i){var o=this;this.eventCanceled=!1;var s=e+"Global";T.forEach(function(t){n[t.pluginName]&&(n[t.pluginName][s]&&(o.eventCanceled=!!n[t.pluginName][s](M({sortable:n},i))),n.options[t.pluginName]&&n[t.pluginName][e]&&(o.eventCanceled=o.eventCanceled||!!n[t.pluginName][e](M({sortable:n},i))))})},initializePlugins:function(i,o,s){for(var t in T.forEach(function(t){var e=t.pluginName;if(i.options[e]||t.initializeByDefault){var n=new t(i,o);(n.sortable=i)[e]=n,a(s,n.options)}}),i.options)if(i.options.hasOwnProperty(t)){var e=this.modifyOption(i,t,i.options[t]);void 0!==e&&(i.options[t]=e)}},getEventOptions:function(e,n){var i={};return T.forEach(function(t){"function"==typeof t.eventOptions&&a(i,t.eventOptions.call(n,e))}),i},modifyOption:function(e,n,i){var o;return T.forEach(function(t){e[t.pluginName]&&t.optionListeners&&"function"==typeof t.optionListeners[n]&&(o=t.optionListeners[n].call(e[t.pluginName],i))}),o}};function j(t){var e,n=t.sortable,i=t.rootEl,o=t.name,s=t.targetEl,a=t.cloneEl,r=t.toEl,l=t.fromEl,c=t.oldIndex,d=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,p=t.originalEvent,f=t.putSortable,m=t.eventOptions,g=(n=n||i[R]).options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||y||x?(e=document.createEvent("Event")).initEvent(o,!0,!0):e=new CustomEvent(o,{bubbles:!0,cancelable:!0}),e.to=r||i,e.from=l||i,e.item=s||i,e.clone=a,e.oldIndex=c,e.newIndex=d,e.oldDraggableIndex=u,e.newDraggableIndex=h,e.originalEvent=p,e.pullMode=f?f.lastPutMode:void 0;var b=M({},m,F.getEventOptions(o,n));for(var w in b)e[w]=b[w];i&&i.dispatchEvent(e),g[v]&&g[v].call(n,e)}function U(t,e,n){var i=2<arguments.length&&void 0!==n?n:{},o=i.evt,s=r(i,["evt"]);F.pluginEvent.bind(Ot)(t,e,M({dragEl:Y,parentEl:X,ghostEl:K,rootEl:G,nextEl:q,lastDownEl:J,cloneEl:Z,cloneHidden:Q,dragStarted:lt,putSortable:st,activeSortable:Ot.active,originalEvent:o,oldIndex:tt,oldDraggableIndex:nt,newIndex:et,newDraggableIndex:it,hideGhostForTarget:kt,unhideGhostForTarget:Tt,cloneNowHidden:function(){Q=!0},cloneNowShown:function(){Q=!1},dispatchSortableEvent:function(t){V({sortable:e,name:t,originalEvent:o})}},s))}function V(t){j(M({putSortable:st,cloneEl:Z,targetEl:Y,rootEl:G,oldIndex:tt,oldDraggableIndex:nt,newIndex:et,newDraggableIndex:it},t))}if("undefined"==typeof window||!window.document)throw new Error("Sortable.js requires a window with a document");var Y,X,K,G,q,J,Z,Q,tt,et,nt,it,ot,st,at,rt,lt,ct,dt,ut,ht,pt=!1,ft=!1,mt=[],gt=!1,vt=!1,bt=[],wt=!1,yt=[],xt=n,Et=x||y?"cssFloat":"float",St=!s&&!n&&"draggable"in document.createElement("div"),Ct=function(){if(y)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),It=function(t,e){var n=L(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=b(t,0,e),s=b(t,1,e),a=o&&L(o),r=s&&L(s),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+z(o).width,c=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+z(s).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&"none"!==a.float){var d="left"===a.float?"left":"right";return!s||"both"!==r.clear&&r.clear!==d?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||i<=l&&"none"===n[Et]||s&&"none"===n[Et]&&i<l+c)?"vertical":"horizontal"},Dt=function(t){function l(a,r){return function(t,e,n,i){var o=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==a&&(r||o))return!0;if(null==a||!1===a)return!1;if(r&&"clone"===a)return a;if("function"==typeof a)return l(a(t,e,n,i),r)(t,e,n,i);var s=(r?t:e).options.group.name;return!0===a||"string"==typeof a&&a===s||a.join&&-1<a.indexOf(s)}}var e={},n=t.group;n&&"object"==o(n)||(n={name:n}),e.name=n.name,e.checkPull=l(n.pull,!0),e.checkPut=l(n.put),e.revertClone=n.revertClone,t.group=e},kt=function(){!Ct&&K&&L(K,"display","none")},Tt=function(){!Ct&&K&&L(K,"display","")};document.addEventListener("click",function(t){if(ft)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ft=!1},!0);function $t(t){if(Y){var e=function(s,a){var r;return mt.some(function(t){if(!P(t)){var e=z(t),n=t[R].options.emptyInsertThreshold,i=s>=e.left-n&&s<=e.right+n,o=a>=e.top-n&&a<=e.bottom+n;return n&&i&&o?r=t:void 0}}),r}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[R]._onDragOver(n)}}}function At(t){Y&&Y.parentNode[R]._isOutsideThisEl(t.target)}function Ot(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: el must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=a({},e),t[R]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return It(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ot.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var i in F.initializePlugins(this,t,n),n)i in e||(e[i]=n[i]);for(var o in Dt(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&St,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?u(t,"pointerdown",this._onTapStart):(u(t,"mousedown",this._onTapStart),u(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(u(t,"dragover",this),u(t,"dragenter",this)),mt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),a(this,k())}function Mt(t,e,n,i,o,s,a,r){var l,c,d=t[R],u=d.options.onMove;return!window.CustomEvent||y||x?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=o||e,l.relatedRect=s||z(e),l.willInsertAfter=r,l.originalEvent=a,t.dispatchEvent(l),u&&(c=u.call(d,l,a)),c}function Nt(t){t.draggable=!1}function _t(){wt=!1}function Lt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function zt(t){return setTimeout(t,0)}function Ht(t){return clearTimeout(t)}Ot.prototype={constructor:Ot,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(ct=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,Y):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,t=this.options,o=t.preventOnFilter,s=e.type,a=e.touches&&e.touches[0],r=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,c=t.filter;if(function(t){yt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var i=e[n];i.checked&&yt.push(i)}}(i),!Y&&!(/mousedown|pointerdown/.test(s)&&0!==e.button||t.disabled||l.isContentEditable||(r=N(r,t.draggable,i,!1))&&r.animated||J===r)){if(tt=W(r),nt=W(r,t.draggable),"function"==typeof c){if(c.call(this,e,r,this))return V({sortable:n,rootEl:l,name:"filter",targetEl:r,toEl:i,fromEl:i}),U("filter",n,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c=c&&c.split(",").some(function(t){if(t=N(l,t.trim(),i,!1))return V({sortable:n,rootEl:t,name:"filter",targetEl:r,fromEl:i,toEl:i}),U("filter",n,{evt:e}),!0}))return void(o&&e.cancelable&&e.preventDefault());t.handle&&!N(l,t.handle,i,!1)||this._prepareDragStart(e,a,r)}}},_prepareDragStart:function(t,e,n){var i,o=this,s=o.el,a=o.options,r=s.ownerDocument;if(n&&!Y&&n.parentNode===s)if(G=s,X=(Y=n).parentNode,q=Y.nextSibling,J=n,ot=a.group,at={target:Ot.dragged=Y,clientX:(e||t).clientX,clientY:(e||t).clientY},this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Y.style["will-change"]="all",i=function(){U("delayEnded",o,{evt:t}),Ot.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!l&&o.nativeDraggable&&(Y.draggable=!0),o._triggerDragStart(t,e),V({sortable:o,name:"choose",originalEvent:t}),_(Y,a.chosenClass,!0))},a.ignore.split(",").forEach(function(t){v(Y,t.trim(),Nt)}),u(r,"dragover",$t),u(r,"mousemove",$t),u(r,"touchmove",$t),u(r,"mouseup",o._onDrop),u(r,"touchend",o._onDrop),u(r,"touchcancel",o._onDrop),l&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Y.draggable=!0),U("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(x||y))i();else{if(Ot.eventCanceled)return void this._onDrop();u(r,"mouseup",o._disableDelayedDrag),u(r,"touchend",o._disableDelayedDrag),u(r,"touchcancel",o._disableDelayedDrag),u(r,"mousemove",o._delayedDragTouchMoveHandler),u(r,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&u(r,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,a.delay)}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Y&&Nt(Y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;h(t,"mouseup",this._disableDelayedDrag),h(t,"touchend",this._disableDelayedDrag),h(t,"touchcancel",this._disableDelayedDrag),h(t,"mousemove",this._delayedDragTouchMoveHandler),h(t,"touchmove",this._delayedDragTouchMoveHandler),h(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?u(document,"pointermove",this._onTouchMove):u(document,e?"touchmove":"mousemove",this._onTouchMove):(u(Y,"dragend",this),u(G,"dragstart",this._onDragStart));try{document.selection?zt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(pt=!1,G&&Y){U("dragStarted",this,{evt:e}),this.nativeDraggable&&u(document,"dragover",At);var n=this.options;t||_(Y,n.dragClass,!1),_(Y,n.ghostClass,!0),Ot.active=this,t&&this._appendGhost(),V({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(rt){this._lastX=rt.clientX,this._lastY=rt.clientY,kt();for(var t=document.elementFromPoint(rt.clientX,rt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(rt.clientX,rt.clientY))!==e;)e=t;if(Y.parentNode[R]._isOutsideThisEl(t),e)do{if(e[R]){if(e[R]._onDragOver({clientX:rt.clientX,clientY:rt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Tt()}},_onTouchMove:function(t){if(at){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,o=t.touches?t.touches[0]:t,s=K&&g(K),a=K&&s&&s.a,r=K&&s&&s.d,l=xt&&ht&&w(ht),c=(o.clientX-at.clientX+i.x)/(a||1)+(l?l[0]-bt[0]:0)/(a||1),d=(o.clientY-at.clientY+i.y)/(r||1)+(l?l[1]-bt[1]:0)/(r||1),u=t.touches?"translate3d("+c+"px,"+d+"px,0)":"translate("+c+"px,"+d+"px)";if(!Ot.active&&!pt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}rt=o,L(K,"webkitTransform",u),L(K,"mozTransform",u),L(K,"msTransform",u),L(K,"transform",u),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!K){var t=this.options.fallbackOnBody?document.body:G,e=z(Y,!0,xt,!0,t),n=this.options;if(xt){for(ht=t;"static"===L(ht,"position")&&"none"===L(ht,"transform")&&ht!==document;)ht=ht.parentNode;ht!==document.body&&ht!==document.documentElement?(ht===document&&(ht=$()),e.top+=ht.scrollTop,e.left+=ht.scrollLeft):ht=$(),bt=w(ht)}_(K=Y.cloneNode(!0),n.ghostClass,!1),_(K,n.fallbackClass,!0),_(K,n.dragClass,!0),L(K,"transition",""),L(K,"transform",""),L(K,"box-sizing","border-box"),L(K,"margin",0),L(K,"top",e.top),L(K,"left",e.left),L(K,"width",e.width),L(K,"height",e.height),L(K,"opacity","0.8"),L(K,"position",xt?"absolute":"fixed"),L(K,"zIndex","100000"),L(K,"pointerEvents","none"),Ot.ghost=K,t.appendChild(K)}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,o=n.options;U("dragStart",this,{evt:t}),Ot.eventCanceled?this._onDrop():(U("setupClone",this),Ot.eventCanceled||((Z=C(Y)).draggable=!1,Z.style["will-change"]="",this._hideClone(),_(Z,this.options.chosenClass,!1),Ot.clone=Z),n.cloneId=zt(function(){U("clone",n),Ot.eventCanceled||(n.options.removeCloneOnHide||G.insertBefore(Z,Y),n._hideClone(),V({sortable:n,name:"clone"}))}),e||_(Y,o.dragClass,!0),e?(ft=!0,n._loopId=setInterval(n._emulateDragOver,50)):(h(document,"mouseup",n._onDrop),h(document,"touchend",n._onDrop),h(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,Y)),u(document,"drop",n),L(Y,"transform","translateZ(0)")),pt=!0,n._dragStartId=zt(n._dragStarted.bind(n,e,t)),u(document,"selectstart",n),lt=!0,c&&L(document.body,"user-select","none"))},_onDragOver:function(n){var i,o,s,a,r=this.el,l=n.target,e=this.options,t=e.group,c=Ot.active,d=ot===t,u=e.sort,h=st||c,p=this,f=!1;if(!wt){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),l=N(l,e.draggable,r,!0),T("dragOver"),Ot.eventCanceled)return f;if(Y.contains(n.target)||l.animated&&l.animatingX&&l.animatingY||p._ignoreWhileAnimating===l)return A(!1);if(ft=!1,c&&!e.disabled&&(d?u||(s=!G.contains(Y)):st===this||(this.lastPutMode=ot.checkPull(this,c,Y,n))&&t.checkPut(this,c,Y,n))){if(a="vertical"===this._getDirection(n,l),i=z(Y),T("dragOverValid"),Ot.eventCanceled)return f;if(s)return X=G,$(),this._hideClone(),T("revert"),Ot.eventCanceled||(q?G.insertBefore(Y,q):G.appendChild(Y)),A(!0);var m=P(r,e.draggable);if(!m||function(t,e,n){var i=z(P(n.el,n.options.draggable));return e?t.clientX>i.right+10||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+10}(n,a,this)&&!m.animated){if(m===Y)return A(!1);if(m&&r===n.target&&(l=m),l&&(o=z(l)),!1!==Mt(G,r,Y,i,l,o,n,!!l))return $(),r.appendChild(Y),X=r,O(),A(!0)}else if(l.parentNode===r){o=z(l);var g,v,b,w=Y.parentNode!==r,y=!function(t,e,n){var i=n?t.left:t.top,o=n?t.right:t.bottom,s=n?t.width:t.height,a=n?e.left:e.top,r=n?e.right:e.bottom,l=n?e.width:e.height;return i===a||o===r||i+s/2===a+l/2}(Y.animated&&Y.toRect||i,l.animated&&l.toRect||o,a),x=a?"top":"left",E=H(l,null,"top","top")||H(Y,null,"top","top"),S=E?E.scrollTop:void 0;if(ct!==l&&(v=o[x],gt=!1,vt=!y&&e.invertSwap||w),0!==(g=function(t,e,n,i,o,s,a,r){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,d=i?n.top:n.left,u=i?n.bottom:n.right,h=!1;if(!a)if(r&&ut<c*o){if(!gt&&(1===dt?d+c*s/2<l:l<u-c*s/2)&&(gt=!0),gt)h=!0;else if(1===dt?l<d+ut:u-ut<l)return-dt}else if(d+c*(1-o)/2<l&&l<u-c*(1-o)/2)return function(t){return W(Y)<W(t)?1:-1}(e);if((h=h||a)&&(l<d+c*s/2||u-c*s/2<l))return d+c/2<l?1:-1;return 0}(n,l,o,a,y?1:e.swapThreshold,null==e.invertedSwapThreshold?e.swapThreshold:e.invertedSwapThreshold,vt,ct===l)))for(var C=W(Y);C-=g,(b=X.children[C])&&("none"===L(b,"display")||b===K););if(0===g||b===l)return A(!1);dt=g;var I=(ct=l).nextElementSibling,D=!1,k=Mt(G,r,Y,i,l,o,n,D=1===g);if(!1!==k)return 1!==k&&-1!==k||(D=1===k),wt=!0,setTimeout(_t,30),$(),D&&!I?r.appendChild(Y):l.parentNode.insertBefore(Y,D?I:l),E&&B(E,0,S-E.scrollTop),X=Y.parentNode,void 0===v||vt||(ut=Math.abs(v-z(l)[x])),O(),A(!0)}if(r.contains(Y))return A(!1)}return!1}function T(t,e){U(t,p,M({evt:n,isOwner:d,axis:a?"vertical":"horizontal",revert:s,dragRect:i,targetRect:o,canSort:u,fromSortable:h,target:l,completed:A,onMove:function(t,e){return Mt(G,r,Y,i,t,z(t),n,e)},changed:O},e))}function $(){T("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function A(t){return T("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(p),p!==h&&(_(Y,st?st.options.ghostClass:c.options.ghostClass,!1),_(Y,e.ghostClass,!0)),st!==p&&p!==Ot.active?st=p:p===Ot.active&&st&&(st=null),h===p&&(p._ignoreWhileAnimating=l),p.animateAll(function(){T("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(l===Y&&!Y.animated||l===r&&!l.animated)&&(ct=null),e.dragoverBubble||n.rootEl||l===document||(Y.parentNode[R]._isOutsideThisEl(n.target),t||$t(n)),!e.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),f=!0}function O(){et=W(Y),it=W(Y,e.draggable),V({sortable:p,name:"change",toEl:r,newIndex:et,newDraggableIndex:it,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){h(document,"mousemove",this._onTouchMove),h(document,"touchmove",this._onTouchMove),h(document,"pointermove",this._onTouchMove),h(document,"dragover",$t),h(document,"mousemove",$t),h(document,"touchmove",$t)},_offUpEvents:function(){var t=this.el.ownerDocument;h(t,"mouseup",this._onDrop),h(t,"touchend",this._onDrop),h(t,"pointerup",this._onDrop),h(t,"touchcancel",this._onDrop),h(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;et=W(Y),it=W(Y,n.draggable),U("drop",this,{evt:t}),et=W(Y),it=W(Y,n.draggable),Ot.eventCanceled||(gt=vt=pt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ht(this.cloneId),Ht(this._dragStartId),this.nativeDraggable&&(h(document,"drop",this),h(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),c&&L(document.body,"user-select",""),t&&(lt&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(G===X||st&&"clone"!==st.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),Y&&(this.nativeDraggable&&h(Y,"dragend",this),Nt(Y),Y.style["will-change"]="",lt&&!pt&&_(Y,st?st.options.ghostClass:this.options.ghostClass,!1),_(Y,this.options.chosenClass,!1),V({sortable:this,name:"unchoose",toEl:X,newIndex:null,newDraggableIndex:null,originalEvent:t}),G!==X?(0<=et&&(V({rootEl:X,name:"add",toEl:X,fromEl:G,originalEvent:t}),V({sortable:this,name:"remove",toEl:X,originalEvent:t}),V({rootEl:X,name:"sort",toEl:X,fromEl:G,originalEvent:t}),V({sortable:this,name:"sort",toEl:X,originalEvent:t})),st&&st.save()):et!==tt&&0<=et&&(V({sortable:this,name:"update",toEl:X,originalEvent:t}),V({sortable:this,name:"sort",toEl:X,originalEvent:t})),Ot.active&&(null!=et&&-1!==et||(et=tt,it=nt),V({sortable:this,name:"end",toEl:X,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){U("nulling",this),G=Y=X=K=q=Z=J=Q=at=rt=lt=et=it=tt=nt=ct=dt=st=ot=Ot.dragged=Ot.ghost=Ot.clone=Ot.active=null,yt.forEach(function(t){t.checked=!0}),yt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Y&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,o=n.length,s=this.options;i<o;i++)N(t=n[i],s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||Lt(t));return e},sort:function(t){var i={},o=this.el;this.toArray().forEach(function(t,e){var n=o.children[e];N(n,this.options.draggable,o,!1)&&(i[t]=n)},this),t.forEach(function(t){i[t]&&(o.removeChild(i[t]),o.appendChild(i[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return N(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=F.modifyOption(this,t,e);n[t]=void 0!==i?i:e,"group"===t&&Dt(n)},destroy:function(){U("destroy",this);var t=this.el;t[R]=null,h(t,"mousedown",this._onTapStart),h(t,"touchstart",this._onTapStart),h(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(h(t,"dragover",this),h(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),mt.splice(mt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Q){if(U("hideClone",this),Ot.eventCanceled)return;L(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),Q=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Q){if(U("showClone",this),Ot.eventCanceled)return;G.contains(Y)&&!this.options.group.revertClone?G.insertBefore(Z,Y):q?G.insertBefore(Z,q):G.appendChild(Z),this.options.group.revertClone&&this._animate(Y,Z),L(Z,"display",""),Q=!1}}else this._hideClone()}},u(document,"touchmove",function(t){(Ot.active||pt)&&t.cancelable&&t.preventDefault()}),Ot.utils={on:u,off:h,css:L,find:v,is:function(t,e){return!!N(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:S,closest:N,toggleClass:_,clone:C,index:W,nextTick:zt,cancelNextTick:Ht,detectDirection:It,getChild:b},Ot.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(el));t.utils&&(Ot.utils=M({},Ot.utils,t.utils)),F.mount(t)})},Ot.create=function(t,e){return new Ot(t,e)};var Pt,Wt,Bt,Rt,Ft,jt,Ut=[],Vt=!(Ot.version="1.10.0-rc3");function Yt(){Ut.forEach(function(t){clearInterval(t.pid)}),Ut=[]}function Xt(){clearInterval(jt)}function Kt(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,r=t.unhideGhostForTarget,l=n||o;a();var c=document.elementFromPoint(e.clientX,e.clientY);r(),l&&!l.el.contains(c)&&(s("spill"),this.onSpill(i))}var Gt,qt=S(function(n,t,e,i){if(t.scroll){var o,s=t.scrollSensitivity,a=t.scrollSpeed,r=$(),l=!1;Wt!==e&&(Wt=e,Yt(),Pt=t.scroll,o=t.scrollFn,!0===Pt&&(Pt=A(e,!0)));var c=0,d=Pt;do{var u=d,h=z(u),p=h.top,f=h.bottom,m=h.left,g=h.right,v=h.width,b=h.height,w=void 0,y=void 0,x=u.scrollWidth,E=u.scrollHeight,S=L(u),C=u.scrollLeft,I=u.scrollTop;y=u===r?(w=v<x&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),b<E&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=v<x&&("auto"===S.overflowX||"scroll"===S.overflowX),b<E&&("auto"===S.overflowY||"scroll"===S.overflowY));var D=w&&(Math.abs(g-n.clientX)<=s&&C+v<x)-(Math.abs(m-n.clientX)<=s&&!!C),k=y&&(Math.abs(f-n.clientY)<=s&&I+b<E)-(Math.abs(p-n.clientY)<=s&&!!I);if(!Ut[c])for(var T=0;T<=c;T++)Ut[T]||(Ut[T]={});Ut[c].vx==D&&Ut[c].vy==k&&Ut[c].el===u||(Ut[c].el=u,Ut[c].vx=D,Ut[c].vy=k,clearInterval(Ut[c].pid),0==D&&0==k||(l=!0,Ut[c].pid=setInterval(function(){i&&0===this.layer&&Ot.active._onTouchMove(Ft);var t=Ut[this.layer].vy?Ut[this.layer].vy*a:0,e=Ut[this.layer].vx?Ut[this.layer].vx*a:0;"function"==typeof o&&"continue"!==o.call(Ot.dragged.parentNode[R],e,t,n,Ft,Ut[this.layer].el)||B(Ut[this.layer].el,e,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&d!==r&&(d=A(d,!1)));Vt=l}},30);function Jt(){}function Zt(){}Jt.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){this.sortable.captureAnimationState();var e=b(this.sortable.el,this.startIndex,this.sortable.options);e?this.sortable.el.insertBefore(t,e):this.sortable.el.appendChild(t),this.sortable.animateAll()},drop:Kt},a(Jt,{pluginName:"revertOnSpill"}),Zt.prototype={onSpill:function(t){this.sortable.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),this.sortable.animateAll()},drop:Kt},a(Zt,{pluginName:"removeOnSpill"});var Qt,te,ee,ne,ie,oe=[],se=[],ae=!1,re=!1,le=!1;function ce(n,o){se.forEach(function(t){var e=o.children[t.sortableIndex+(n?Number(i):0)];e?o.insertBefore(t,e):o.appendChild(t)})}function de(){oe.forEach(function(t){t!==ee&&t.parentNode&&t.parentNode.removeChild(t)})}return Ot.mount(new function(){function t(){for(var t in this.options={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?u(document,"dragover",this._handleAutoScroll):this.sortable.options.supportPointer?u(document,"pointermove",this._handleFallbackAutoScroll):e.touches?u(document,"touchmove",this._handleFallbackAutoScroll):u(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.sortable.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):(h(document,"pointermove",this._handleFallbackAutoScroll),h(document,"touchmove",this._handleFallbackAutoScroll),h(document,"mousemove",this._handleFallbackAutoScroll)),Xt(),Yt(),clearTimeout(f),f=void 0},nulling:function(){Ft=Wt=Pt=Vt=jt=Bt=Rt=null,Ut.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,n){var i=this,o=e.clientX,s=e.clientY,t=document.elementFromPoint(o,s);if(Ft=e,n||x||y||c){qt(e,this.options,t,n);var a=A(t,!0);!Vt||jt&&o===Bt&&s===Rt||(jt&&Xt(),jt=setInterval(function(){var t=A(document.elementFromPoint(o,s),!0);t!==a&&(a=t,Yt()),qt(e,i.options,t,n)},10),Bt=o,Rt=s)}else{if(!this.sortable.options.bubbleScroll||A(t,!0)===$())return void Yt();qt(e,this.options,A(t,!1),!1)}}},a(t,{pluginName:"scroll",initializeByDefault:!0})}),Ot.mount(Zt,Jt),Ot.mount(new function(){function t(){this.options={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;Gt=e},dragOverValid:function(t){var e=t.completed,n=t.target,i=t.onMove,o=t.activeSortable,s=t.changed;if(o.options.swap){var a=this.sortable.el,r=this.sortable.options;if(n&&n!==a){var l=Gt;Gt=!1!==i(n)?(_(n,r.swapClass,!0),n):null,l&&l!==Gt&&_(l,r.swapClass,!1)}return s(),e(!0)}},drop:function(t){var e=t.activeSortable,n=t.putSortable,i=t.dragEl,o=n||this.sortable,s=this.sortable.options;Gt&&_(Gt,s.swapClass,!1),Gt&&(s.swap||n&&n.options.swap)&&i!==Gt&&(o.captureAnimationState(),o!==e&&e.captureAnimationState(),function(t,e){var n,i,o=t.parentNode,s=e.parentNode;if(!o||!s||o.isEqualNode(e)||s.isEqualNode(t))return;n=W(t),i=W(e),o.isEqualNode(s)&&n<i&&i++;o.insertBefore(e,o.children[n]),s.insertBefore(t,s.children[i])}(i,Gt),o.animateAll(),o!==e&&e.animateAll())},nulling:function(){Gt=null}},a(t,{pluginName:"swap",eventOptions:function(){return{swapItem:Gt}}})}),Ot.mount(new function(){function t(i){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));i.options.supportPointer?u(document,"pointerup",this._deselectMultiDrag):(u(document,"mouseup",this._deselectMultiDrag),u(document,"touchend",this._deselectMultiDrag)),u(document,"keydown",this._checkKeyDown),u(document,"keyup",this._checkKeyUp),this.options={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,e){var n="";oe.length&&te===i?oe.forEach(function(t,e){n+=(e?", ":"")+t.textContent}):n=e.textContent,t.setData("Text",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;ee=e},delayEnded:function(){this.isMultiDrag=~oe.indexOf(ee)},setupClone:function(t){var e=t.sortable;if(this.isMultiDrag){for(var n=0;n<oe.length;n++)se.push(C(oe[n])),se[n].sortableIndex=oe[n].sortableIndex,se[n].draggable=!1,se[n].style["will-change"]="",_(se[n],e.options.selectedClass,!1),oe[n]===ee&&_(se[n],e.options.chosenClass,!1);return e._hideClone(),!0}},clone:function(t){var e=t.sortable,n=t.rootEl,i=t.dispatchSortableEvent;if(this.isMultiDrag)return!e.options.removeCloneOnHide&&oe.length&&te===e?(ce(!0,n),i("clone"),!0):void 0},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl;if(this.isMultiDrag)return ce(!1,n),se.forEach(function(t){L(t,"display","")}),e(),!(ie=!1)},hideClone:function(t){var e=t.sortable,n=t.cloneNowHidden;if(this.isMultiDrag)return se.forEach(function(t){L(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),ie=!0},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&te&&te.multiDrag._deselectMultiDrag(),oe.forEach(function(t){t.sortableIndex=W(t)}),oe=oe.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),le=!0},dragStarted:function(t){var e=t.sortable;if(this.isMultiDrag){if(e.options.sort&&(e.captureAnimationState(),e.options.animation)){oe.forEach(function(t){t!==ee&&L(t,"position","absolute")});var n=z(ee,!1,!0,!0);oe.forEach(function(t){t!==ee&&I(t,n)}),ae=re=!0}e.animateAll(function(){ae=re=!1,e.options.animation&&oe.forEach(function(t){D(t)}),e.options.sort&&de()})}},dragOver:function(t){var e=t.target,n=t.completed;if(re&&~oe.indexOf(e))return n(!1)},revert:function(t){var e=t.fromSortable,n=t.rootEl,o=t.sortable,s=t.dragRect;1<oe.length&&(oe.forEach(function(t){o.addAnimationState({target:t,rect:re?z(t):s}),D(t),t.fromRect=s,e.removeAnimationState(t)}),re=!1,function(n,o){oe.forEach(function(t){var e=o.children[t.sortableIndex+(n?Number(i):0)];e?o.insertBefore(t,e):o.appendChild(t)})}(!o.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,i=t.insertion,o=t.activeSortable,s=t.parentEl,a=t.putSortable,r=e.options;if(i){if(n&&o._hideClone(),ae=!1,r.animation&&1<oe.length&&(re||!n&&!o.options.sort&&!a)){var l=z(ee,!1,!0,!0);oe.forEach(function(t){t!==ee&&(I(t,l),s.appendChild(t))}),re=!0}if(!n)if(re||de(),1<oe.length){var c=ie;o._showClone(e),o.options.animation&&!ie&&c&&se.forEach(function(t){o.addAnimationState({target:t,rect:ne}),t.fromRect=ne,t.thisAnimationDuration=null})}else o._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,i=t.activeSortable;if(oe.forEach(function(t){t.thisAnimationDuration=null}),i.options.animation&&!n&&i.multiDrag.isMultiDrag){ne=a({},e);var o=g(ee,!0);ne.top-=o.f,ne.left-=o.e}},dragOverAnimationComplete:function(){re&&(re=!1,de())},drop:function(t){var e=t.originalEvent,n=t.rootEl,i=t.parentEl,o=t.sortable,s=t.dispatchSortableEvent,a=t.oldIndex,r=t.putSortable,l=r||this.sortable;if(e){var c=o.options,d=i.children;if(!le)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),_(ee,c.selectedClass,!~oe.indexOf(ee)),~oe.indexOf(ee))oe.splice(oe.indexOf(ee),1),Qt=null,j({sortable:o,rootEl:n,name:"deselect",targetEl:ee,originalEvt:e});else{if(oe.push(ee),j({sortable:o,rootEl:n,name:"select",targetEl:ee,originalEvt:e}),(!c.multiDragKey||this.multiDragKeyDown)&&e.shiftKey&&Qt&&o.el.contains(Qt)){var u,h,p=W(Qt),f=W(ee);if(~p&&~f&&p!==f)for(u=p<f?(h=p,f):(h=f,p+1);h<u;h++)~oe.indexOf(d[h])||(_(d[h],c.selectedClass,!0),oe.push(d[h]),j({sortable:o,rootEl:n,name:"select",targetEl:d[h],originalEvt:e}))}else Qt=ee;te=l}if(le&&this.isMultiDrag){if((i[R].options.sort||i!==n)&&1<oe.length){var m=z(ee),g=W(ee,":not(."+this.options.selectedClass+")");if(!ae&&c.animation&&(ee.thisAnimationDuration=null),l.captureAnimationState(),!ae&&(c.animation&&(ee.fromRect=m,oe.forEach(function(t){if(t.thisAnimationDuration=null,t!==ee){var e=re?z(t):m;t.fromRect=e,l.addAnimationState({target:t,rect:e})}})),de(),oe.forEach(function(t){d[g]?i.insertBefore(t,d[g]):i.appendChild(t),g++}),a===W(ee))){var v=!1;oe.forEach(function(t){t.sortableIndex===W(t)||(v=!0)}),v&&s("update")}oe.forEach(function(t){D(t)}),l.animateAll()}te=l}(n===i||r&&"clone"!==r.lastPutMode)&&se.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=le=!1,se.length=0},destroy:function(){this._deselectMultiDrag(),h(document,"pointerup",this._deselectMultiDrag),h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!le&&te===this.sortable&&!(t&&N(t.target,this.sortable.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;oe.length;){var e=oe[0];_(e,this.sortable.options.selectedClass,!1),oe.shift(),j({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.sortable.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.sortable.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[R];e&&e.options.multiDrag&&!~oe.indexOf(t)&&(te&&te!==e&&(te.multiDrag._deselectMultiDrag(),te=e),_(t,e.options.selectedClass,!0),oe.push(t))},deselect:function(t){var e=t.parentNode[R],n=oe.indexOf(t);e&&e.options.multiDrag&&~n&&(_(t,e.options.selectedClass,!1),oe.splice(n,1))}},eventOptions:function(){var n=this,i=[],o=[];return oe.forEach(function(t){var e;i.push({multiDragElement:t,index:t.sortableIndex}),e=re&&t!==ee?-1:re?W(t,":not(."+n.options.selectedClass+")"):W(t),o.push({multiDragElement:t,index:e})}),{items:e(oe),clones:[].concat(se),oldIndicies:i,newIndicies:o}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),Ot}),function(window,$){var fave=function(window,$){var FormDataWasChanged=!1;function IsDebugMode(){return window.fave_debug&&!0===window.fave_debug}function GetModalAlertTmpl(t,e,n){return'<div class="alert alert-'+(n?"danger":"success")+' alert-dismissible fade show" role="alert"><strong>'+t+"</strong> "+e+'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'}function ShowSystemMsg(t,e,n){var i=$(".modal.show .sys-messages");i.length||(i=$("form.alert-here .sys-messages")),i.length?i.html(GetModalAlertTmpl(t,e,n)):ShowSystemMsgModal(t,e,n)}function ShowSystemMsgModal(t,e,n){$("#sys-modal-system-message-placeholder").html("");var i='<div class="modal fade" id="sys-modal-system-message" tabindex="-1" role="dialog" aria-labelledby="sysModalSystemMessageLabel" aria-hidden="true"> \t\t\t\t<div class="modal-dialog modal-dialog-centered" role="document"> \t\t\t\t\t<div class="modal-content"> \t\t\t\t\t\t\t<input type="hidden" name="action" value="index-user-update-profile"> \t\t\t\t\t\t\t<div class="modal-header"> \t\t\t\t\t\t\t\t<h5 class="modal-title" id="sysModalSystemMessageLabel">'+t+'</h5> \t\t\t\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close"> \t\t\t\t\t\t\t\t\t<span aria-hidden="true">&times;</span> \t\t\t\t\t\t\t\t</button> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t<div class="modal-body text-left">'+e+'</div> \t\t\t\t\t\t\t<div class="modal-footer"> \t\t\t\t\t\t\t\t<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button> \t\t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t</div> \t\t\t</div>';$("#sys-modal-system-message-placeholder").html(i),$("#sys-modal-system-message").modal({backdrop:"static",keyboard:!0,show:!1}),$("#sys-modal-system-message").on("hidden.bs.modal",function(t){$("#sys-modal-system-message-placeholder").html("")}),$("#sys-modal-system-message").modal("show")}function AjaxEval(data){try{eval(data)}catch(t){t instanceof SyntaxError&&(console.log(data),console.log("Error: JavaScript code eval error",t.message))}}function AjaxDone(t){AjaxEval(t)}function AjaxFail(t,e,n){"error"===e.toLowerCase()&&"not found"===n.toLowerCase()?AjaxEval(t):(console.log("Error: data sending error, page will be reloaded",t,e,n),setTimeout(function(){window.location.reload(!1)},1e3))}function FormToAjax(n){n.submit(function(t){if(n.hasClass("loading"))t.preventDefault();else{n.addClass("loading").addClass("alert-here");var e=n.find("button[type=submit]");e.addClass("progress-bar-striped").addClass("progress-bar-animated"),""!=e.attr("data-target")&&$("#"+e.attr("data-target")).addClass("progress-bar-striped").addClass("progress-bar-animated"),n.find(".sys-messages").html(""),$.ajax({type:"POST",url:n.attr("action"),data:n.serialize()}).done(function(t){FormDataWasChanged=!1,IsDebugMode()&&console.log("done",t),AjaxDone(t)}).fail(function(t,e,n){IsDebugMode()&&console.log("fail",t,e,n),AjaxFail(t.responseText,e,n)}).always(function(){setTimeout(function(){n.removeClass("loading").removeClass("alert-here"),e.removeClass("progress-bar-striped").removeClass("progress-bar-animated"),""!=e.attr("data-target")&&$("#"+e.attr("data-target")).removeClass("progress-bar-striped").removeClass("progress-bar-animated")},100)}),t.preventDefault()}});var t=n.find("button[type=submit]");""!=t.attr("data-target")&&$("#"+t.attr("data-target")).click(function(){t.click()}),n.hasClass("prev-data-lost")&&n.find("input, textarea, select").on("input",function(){FormDataWasChanged||$(this).hasClass("ignore-lost-data")||(FormDataWasChanged=!0)})}function PreventDataLost(){FormDataWasChanged=FormDataWasChanged||!0}function FormDataIsChanged(){return FormDataWasChanged}function HtmlDecode(t){return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent}function HtmlFixEditorHtml(t){return newValue=t,newValue=newValue.replace(/&nbsp;/gi,""),newValue}function AllFormsToAjax(){$("form").each(function(){FormToAjax($(this))})}function BindWindowBeforeUnload(){$(window).bind("beforeunload",function(){if(FormDataWasChanged)return"Some data was changed and not saved. Are you sure want to leave page?"})}function MakeTextAreasAutoSized(){autosize($("textarea.autosize"))}function MakeTextAreasWysiwyg(){$("textarea.wysiwyg").each(function(){var e=$(this)[0],t=e.id,n=e.name,i=e.innerHTML;$(e).wrap('<div id="'+t+'_wysiwyg" class="form-control wysiwyg" style="height:auto;padding:0px"></div>').remove();var o=document.getElementById(t+"_wysiwyg");o.id=t;var s=window.pell.init({element:o,onChange:function(t){e.innerHTML=HtmlFixEditorHtml(t),$(e).val(HtmlFixEditorHtml(t)),FormDataWasChanged=FormDataWasChanged||!0},defaultParagraphSeparator:"p",styleWithCSS:!1,actions:["paragraph","heading1","heading2","bold","italic","underline","strikethrough","ulist","olist","link",{name:"htmlcode",icon:"HTML",title:"HTML Source",result:function(t,e,n){var i=$(t),o=$(e),s=$(n);if(s.hasClass("pell-button-html-pressed")){s.removeClass("pell-button-html-pressed"),i.removeClass("pell-html-mode"),i.find(".pell-actionbar .pell-button").prop("disabled",!1);var a=i.find("textarea.form-control").val();e.innerHTML=HtmlFixEditorHtml(a),$(e).val(HtmlFixEditorHtml(a)),setTimeout(function(){o.focus()},0)}else s.addClass("pell-button-html-pressed"),i.addClass("pell-html-mode"),i.find(".pell-actionbar .pell-button").prop("disabled",!0),s.prop("disabled",!1),setTimeout(function(){i.find("textarea.form-control").focus()},0)}}],classes:{actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"}});s.onfocusin=function(){$(o).addClass("focused")},s.onfocusout=function(){$(o).find(".pell-actionbar button.pell-button-selected").removeClass("pell-button-selected"),$(o).removeClass("focused")},$(o).append('<textarea class="form-control" id="'+t+'_wysiwyg" name="'+n+'" style="display:none"></textarea>'),e=document.getElementById(t+"_wysiwyg"),$(e).on("input",function(){FormDataWasChanged=FormDataWasChanged||!0}),e.innerHTML=HtmlFixEditorHtml(HtmlDecode(i)),$(e).val(HtmlFixEditorHtml(HtmlDecode(i))),s.content.innerHTML=HtmlFixEditorHtml(HtmlDecode(i))})}function MakeTextAreasTmplEditor(){var i=!0;$("textarea.tmpl-editor").each(function(){var e=$(this)[0],t=$(this).data("emode"),n="text/html";"js"==t?n="javascript":"css"==t&&(n="css"),CodeMirror.fromTextArea(e,{lineNumbers:!0,lineWrapping:!0,viewportMargin:1/0,mode:n}).on("change",function(t){e.value=t.getValue(),i||(FormDataWasChanged=FormDataWasChanged||!0)})}),i=!1}function MakeTextAreasNotReactOnTab(){$("textarea.use-tab-key").each(function(){$(this).keydown(function(t){if(9===t.keyCode){var e=this.selectionStart,n=this.selectionEnd,i=$(this),o=i.val();i.val(o.substring(0,e)+"\t"+o.substring(n)),this.selectionStart=this.selectionEnd=e+1,t.preventDefault(),FormDataWasChanged=FormDataWasChanged||!0}})})}function Initialize(){"function"==typeof $?(AllFormsToAjax(),BindWindowBeforeUnload(),MakeTextAreasAutoSized(),MakeTextAreasWysiwyg(),MakeTextAreasTmplEditor(),MakeTextAreasNotReactOnTab()):console.log("Error: jQuery is not loaded!")}return window.addEventListener?window.addEventListener("load",Initialize,!1):window.attachEvent&&window.attachEvent("onload",Initialize),{ShowMsgSuccess:function(t,e){ShowSystemMsg(t,e,!1)},ShowMsgError:function(t,e){ShowSystemMsg(t,e,!0)},FormDataWasChanged:function(){PreventDataLost()},ModalUserProfile:function(){var t='<div class="modal fade" id="sys-modal-user-settings" tabindex="-1" role="dialog" aria-labelledby="sysModalUserSettingsLabel" aria-hidden="true"> \t\t\t\t\t<div class="modal-dialog modal-dialog-centered" role="document"> \t\t\t\t\t\t<div class="modal-content"> \t\t\t\t\t\t\t<form class="form-user-settings" action="/cp/" method="post" autocomplete="off"> \t\t\t\t\t\t\t\t<input type="hidden" name="action" value="index-user-update-profile"> \t\t\t\t\t\t\t\t<div class="modal-header"> \t\t\t\t\t\t\t\t\t<h5 class="modal-title" id="sysModalUserSettingsLabel">My profile</h5> \t\t\t\t\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close"> \t\t\t\t\t\t\t\t\t\t<span aria-hidden="true">&times;</span> \t\t\t\t\t\t\t\t\t</button> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<div class="modal-body text-left"> \t\t\t\t\t\t\t\t\t<div class="form-group"> \t\t\t\t\t\t\t\t\t\t<label for="first_name">First name</label> \t\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" id="first_name" name="first_name" value="'+window.CurrentUserProfileData.first_name+'" placeholder="User first name" autocomplete="off"> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t<div class="form-group"> \t\t\t\t\t\t\t\t\t\t<label for="last_name">Last name</label> \t\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" id="last_name" name="last_name" value="'+window.CurrentUserProfileData.last_name+'" placeholder="User last name" autocomplete="off"> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t<div class="form-group"> \t\t\t\t\t\t\t\t\t\t<label for="email">Email</label> \t\t\t\t\t\t\t\t\t\t<input type="email" class="form-control" id="email" name="email" value="'+window.CurrentUserProfileData.email+'" placeholder="User email" autocomplete="off" required> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t<div class="form-group"> \t\t\t\t\t\t\t\t\t\t<label for="password">New password</label> \t\t\t\t\t\t\t\t\t\t<input type="password" class="form-control" id="password" aria-describedby="passwordHelp" name="password" value="" placeholder="User new password" autocomplete="off"> \t\t\t\t\t\t\t\t\t\t<small id="passwordHelp" class="form-text text-muted">Leave this field empty if you don\'t want change your password</small> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t<div class="sys-messages"></div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<div class="modal-footer"> \t\t\t\t\t\t\t\t\t<button type="submit" class="btn btn-primary">Save</button> \t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</form> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t</div>';$("#sys-modal-user-settings-placeholder").html(t),$("#sys-modal-user-settings").modal({backdrop:"static",keyboard:!1,show:!1}),$("#sys-modal-user-settings").on("hidden.bs.modal",function(t){$("#sys-modal-user-settings-placeholder").html("")}),FormToAjax($("#sys-modal-user-settings form")),$("#sys-modal-user-settings").modal("show")},ShopProductsAdd:function(){var selText=$("#lbl_attributes option:selected").text(),selValue=$("#lbl_attributes").val();"0"!=selValue&&($("#lbl_attributes")[0].selectedIndex=0,$("#lbl_attributes").selectpicker("refresh"),0<$("#prod_attr_"+selValue).length||($("#list").append('<div class="form-group" id="prod_attr_'+selValue+'"><div><b>'+selText+'</b></div><div class="position-relative"><select class="form-control" name="value.'+selValue+'" autocomplete="off" required disabled><option value="0">Loading values...</option></select><button type="button" class="btn btn-danger btn-dynamic-remove" onclick="fave.ShopProductsRemove(this);" disabled>&times;</button></div></div>'),PreventDataLost(),$.ajax({type:"POST",url:"/cp/",data:{action:"shop-get-attribute-values",id:selValue}}).done(function(data){try{eval(data)}catch(t){t instanceof SyntaxError&&(console.log(data),console.log("Error: JavaScript code eval error",t.message))}}).fail(function(xhr,status,error){$("#prod_attr_"+selValue).remove();try{eval(xhr.responseText)}catch(t){t instanceof SyntaxError&&(console.log(xhr.responseText),console.log("Error: JavaScript code eval error",t.message))}})))},ShopProductsRemove:function(t){$(t).parent().parent().remove(),PreventDataLost()},ShopAttributesAdd:function(){$("#list").append('<div class="form-group position-relative"><input class="form-control" type="text" name="value.0" value="" placeholder="" autocomplete="off" required><button type="button" class="btn btn-danger btn-dynamic-remove" onclick="fave.ShopAttributesRemove(this);">&times;</button></div>'),PreventDataLost(),setTimeout(function(){$("#list input").last().focus()},100)},ShopAttributesRemove:function(t){$(t).parent().remove(),PreventDataLost()},ShopProductsUploadImage:function(action_name,product_id,input_id){var file_el=$("#"+input_id)[0];if(file_el.files&&!(file_el.files.length<=0)){$("#img-upload-block input").prop("disabled",!0),$("#upload-msg").css("display","block");var fd=new FormData;fd.append("action",action_name),fd.append("id",product_id),fd.append("count",file_el.files.length);for(var i=0;i<file_el.files.length;i++)fd.append("file_"+i,file_el.files[i]);$.ajax({url:"/cp/",method:"POST",type:"POST",data:fd,contentType:!1,processData:!1}).done(function(data){try{eval(data)}catch(t){t instanceof SyntaxError&&(console.log(data),console.log("Error: JavaScript code eval error",t.message))}}).fail(function(xhr,status,error){try{eval(xhr.responseText)}catch(t){t instanceof SyntaxError&&(console.log(xhr.responseText),console.log("Error: JavaScript code eval error",t.message))}}).always(function(){file_el.value="",$("#img-upload-block input").prop("disabled",!1),$("#upload-msg").css("display","none")})}},ShopProductsDeleteImage:function(t,e,n){$(t).hasClass("in-progress")||confirm("Are you sure want to delete image?")&&($(t).addClass("in-progress"),$.ajax({type:"POST",url:"/cp/",data:{action:"shop-upload-delete",id:e,file:n}}).done(function(t){IsDebugMode()&&console.log("done",t),AjaxDone(t)}).fail(function(t,e,n){IsDebugMode()&&console.log("fail",t,e,n),AjaxFail(t.responseText,e,n)}))},ShopProductsDuplicateBase:function(button,product_id,attach){$(button).hasClass("in-progress")||(FormDataIsChanged()?fave.ShowMsgError("Warning!","Something was changed, save changes before duplicate product",!0):($(button).addClass("in-progress"),$.ajax({type:"POST",url:"/cp/",data:{action:"shop-duplicate",id:product_id,attach:attach}}).done(function(data){try{eval(data)}catch(t){t instanceof SyntaxError&&(console.log(data),console.log("Error: JavaScript code eval error",t.message))}}).fail(function(xhr,status,error){try{eval(xhr.responseText)}catch(t){t instanceof SyntaxError&&(console.log(xhr.responseText),console.log("Error: JavaScript code eval error",t.message))}}).always(function(){$(button).removeClass("in-progress")})))},ShopProductsDuplicate:function(t,e){fave.ShopProductsDuplicateBase(t,e,0)},ShopProductsDuplicateWithAttach:function(t,e){fave.ShopProductsDuplicateBase(t,e,1)},ShopProductsRetryImage:function(t,e){var n=$("#"+e),i=n.attr("src");n.attr("src","/assets/cp/img-load.gif"),setTimeout(function(){n.attr("src",i)},1e3)},ActionLogout:function(t){confirm(t)&&$.ajax({type:"POST",url:"/cp/",data:{action:"index-user-logout"}}).done(function(t){IsDebugMode()&&console.log("done",t),AjaxDone(t)}).fail(function(t,e,n){IsDebugMode()&&console.log("fail",t,e,n),AjaxFail(t.responseText,e,n)})},ActionDataTableDelete:function(t,e,n,i){confirm(i)&&$.ajax({type:"POST",url:"/cp/",data:{action:e,id:n}}).done(function(t){IsDebugMode()&&console.log("done",t),AjaxDone(t)}).fail(function(t,e,n){IsDebugMode()&&console.log("fail",t,e,n),AjaxFail(t.responseText,e,n)})},ActionRestoreThemeFile:function(t,e,n){return confirm(n)&&$.ajax({type:"POST",url:"/cp/",data:{action:t,file:e}}).done(function(t){IsDebugMode()&&console.log("done",t),AjaxDone(t)}).fail(function(t,e,n){IsDebugMode()&&console.log("fail",t,e,n),AjaxFail(t.responseText,e,n)}),!1},ShopProductsImageReorder:function(t,e){$.ajax({type:"POST",url:"/cp/",data:{action:t,data:JSON.stringify(e)}}).done(function(t){IsDebugMode()&&console.log("done",t),AjaxDone(t)}).fail(function(t,e,n){IsDebugMode()&&console.log("fail",t,e,n),AjaxFail(t.responseText,e,n)})}}}(window,$);window.fave=fave}(window,jQuery);`)
