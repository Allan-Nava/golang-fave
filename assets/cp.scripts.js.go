package assets

var CpScriptsJs = []byte(`!function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(H){"use strict";var d=["sanitize","whiteList","sanitizeFn"],a=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],e={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function v(e,t){var i=e.nodeName.toLowerCase();if(-1!==H.inArray(i,t))return-1===H.inArray(i,a)||Boolean(e.nodeValue.match(r)||e.nodeValue.match(l));for(var s=H(t).filter(function(e,t){return t instanceof RegExp}),n=0,o=s.length;n<o;n++)if(i.match(s[n]))return!0;return!1}function N(e,t,i){if(i&&"function"==typeof i)return i(e);for(var s=Object.keys(t),n=0,o=e.length;n<o;n++)for(var a=e[n].querySelectorAll("*"),r=0,l=a.length;r<l;r++){var c=a[r],d=c.nodeName.toLowerCase();if(-1!==s.indexOf(d))for(var p=[].slice.call(c.attributes),h=[].concat(t["*"]||[],t[d]||[]),u=0,f=p.length;u<f;u++){var m=p[u];v(m,h)||c.removeAttribute(m.nodeName)}else c.parentNode.removeChild(c)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var t="classList",i="prototype",s=e.Element[i],n=Object,o=function(){var i=H(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.removeClass(e)},toggle:function(e,t){return i.toggleClass(e,t)},contains:function(e){return i.hasClass(e)}}};if(n.defineProperty){var a={get:o,enumerable:!0,configurable:!0};try{n.defineProperty(s,t,a)}catch(e){void 0!==e.number&&-2146823252!==e.number||(a.enumerable=!1,n.defineProperty(s,t,a))}}else n[i].__defineGetter__&&s.__defineGetter__(t,o)}}(window);var t,c,i=document.createElement("_");if(i.classList.add("c1","c2"),!i.classList.contains("c2")){var s=DOMTokenList.prototype.add,n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,s.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,n.bind(this))}}if(i.classList.toggle("c3",!1),i.classList.contains("c3")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:o.call(this,e)}}function p(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==c.call(e))throw new TypeError;var i=t.length,s=String(e),n=s.length,o=1<arguments.length?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var r=Math.min(Math.max(a,0),i);if(i<n+r)return!1;for(var l=-1;++l<n;)if(t.charCodeAt(r+l)!=s.charCodeAt(l))return!1;return!0}function E(e){var t,i=[],s=e.selectedOptions;if(e.multiple)for(var n=0,o=s.length;n<o;n++)t=s[n],i.push(t.value||t.text);else i=e.value;return i}i=null,String.prototype.startsWith||(t=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),c={}.toString,t?t(String.prototype,"startsWith",{value:p,configurable:!0,writable:!0}):String.prototype.startsWith=p),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var h={useDefault:!1,_set:H.valHooks.select.set};H.valHooks.select.set=function(e,t){return t&&!h.useDefault&&H(e).data("selected",!0),h._set.apply(this,arguments)};var C=null,u=function(){try{return new Event("change"),!0}catch(e){return!1}}();function I(e,t,i,s){for(var n=["display","subtext","tokens"],o=!1,a=0;a<n.length;a++){var r=n[a],l=e[r];if(l&&(l=l.toString(),"display"===r&&(l=l.replace(/<[^>]+>/g,"")),s&&(l=w(l)),l=l.toUpperCase(),o="contains"===i?0<=l.indexOf(t):l.startsWith(t)))break}return o}function A(e){return parseInt(e,10)||0}H.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(u?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var f={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},m=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,g=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function b(e){return f[e]}function w(e){return(e=e.toString())&&e.replace(m,b).replace(g,"")}var x,y,$,k,S=(x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","` + "`" + `":"&#x60;"},y="(?:"+Object.keys(x).join("|")+")",$=RegExp(y),k=RegExp(y,"g"),function(e){return e=null==e?"":""+e,$.test(e)?e.replace(k,T):e});function T(e){return x[e]}var L={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},z=27,D=13,O=32,M=9,P=38,W=40,B={success:!1,major:"3"};try{B.full=(H.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),B.major=B.full[0],B.success=!0}catch(e){}var j=0,F=".bs.select",R={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},U={MENU:"."+R.MENU},_={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};_.a.setAttribute("role","option"),_.subtext.className="text-muted",_.text=_.span.cloneNode(!1),_.text.className="text",_.checkMark=_.span.cloneNode(!1);var V=new RegExp(P+"|"+W),q=new RegExp("^"+M+"$|"+z),G=function(e,t,i){var s=_.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?s.appendChild(e):s.innerHTML=e),void 0!==t&&""!==t&&(s.className=t),null!=i&&s.classList.add("optgroup-"+i),s},K=function(e,t,i){var s=_.a.cloneNode(!0);return e&&(11===e.nodeType?s.appendChild(e):s.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&(s.className=t),"4"===B.major&&s.classList.add("dropdown-item"),i&&s.setAttribute("style",i),s},Y=function(e,t){var i,s,n=_.text.cloneNode(!1);if(e.content)n.innerHTML=e.content;else{if(n.textContent=e.text,e.icon){var o=_.whitespace.cloneNode(!1);(s=(!0===t?_.i:_.span).cloneNode(!1)).className=e.iconBase+" "+e.icon,_.fragment.appendChild(s),_.fragment.appendChild(o)}e.subtext&&((i=_.subtext.cloneNode(!1)).textContent=e.subtext,n.appendChild(i))}if(!0===t)for(;0<n.childNodes.length;)_.fragment.appendChild(n.childNodes[0]);else _.fragment.appendChild(n);return _.fragment},J=function(e){var t,i,s=_.text.cloneNode(!1);if(s.innerHTML=e.label,e.icon){var n=_.whitespace.cloneNode(!1);(i=_.span.cloneNode(!1)).className=e.iconBase+" "+e.icon,_.fragment.appendChild(i),_.fragment.appendChild(n)}return e.subtext&&((t=_.subtext.cloneNode(!1)).textContent=e.subtext,s.appendChild(t)),_.fragment.appendChild(s),_.fragment},X=function(e,t){var i=this;h.useDefault||(H.valHooks.select.set=h._set,h.useDefault=!0),this.$element=H(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{},current:{},search:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var s=this.options.windowPadding;"number"==typeof s&&(this.options.windowPadding=[s,s,s,s]),this.val=X.prototype.val,this.render=X.prototype.render,this.refresh=X.prototype.refresh,this.setStyle=X.prototype.setStyle,this.selectAll=X.prototype.selectAll,this.deselectAll=X.prototype.deselectAll,this.destroy=X.prototype.destroy,this.remove=X.prototype.remove,this.show=X.prototype.show,this.hide=X.prototype.hide,this.init()};function Q(e){var r,l=arguments,c=e;if([].shift.apply(l),!B.success){try{B.full=(H.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(e){X.BootstrapVersion?B.full=X.BootstrapVersion.split(" ")[0].split("."):(B.full=[B.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e))}B.major=B.full[0],B.success=!0}if("4"===B.major){var t=[];X.DEFAULTS.style===R.BUTTONCLASS&&t.push({name:"style",className:"BUTTONCLASS"}),X.DEFAULTS.iconBase===R.ICONBASE&&t.push({name:"iconBase",className:"ICONBASE"}),X.DEFAULTS.tickIcon===R.TICKICON&&t.push({name:"tickIcon",className:"TICKICON"}),R.DIVIDER="dropdown-divider",R.SHOW="show",R.BUTTONCLASS="btn-light",R.POPOVERHEADER="popover-header",R.ICONBASE="",R.TICKICON="bs-ok-default";for(var i=0;i<t.length;i++){e=t[i];X.DEFAULTS[e.name]=R[e.className]}}var s=this.each(function(){var e=H(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof c&&c;if(t){if(i)for(var s in i)i.hasOwnProperty(s)&&(t.options[s]=i[s])}else{var n=e.data();for(var o in n)n.hasOwnProperty(o)&&-1!==H.inArray(o,d)&&delete n[o];var a=H.extend({},X.DEFAULTS,H.fn.selectpicker.defaults||{},n,i);a.template=H.extend({},X.DEFAULTS.template,H.fn.selectpicker.defaults?H.fn.selectpicker.defaults.template:{},n.template,i.template),e.data("selectpicker",t=new X(this,a))}"string"==typeof c&&(r=t[c]instanceof Function?t[c].apply(t,l):t.options[c])}});return void 0!==r?r:s}X.VERSION="1.13.9",X.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:R.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:R.ICONBASE,tickIcon:R.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:e},X.prototype={constructor:X,init:function(){var i=this,e=this.$element.attr("id");this.selectId=j++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.options.showTick=this.$element[0].classList.contains("show-tick"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(U.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(R.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+F,function(){if(i.isVirtual()){var e=i.$menuInner[0],t=e.firstChild.cloneNode(!1);e.replaceChild(t,e.firstChild),e.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!1),i.$element.trigger("hide"+F,e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden"+F,e)},"show.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!0),i.$element.trigger("show"+F,e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown"+F,e)}}),i.$element[0].hasAttribute("required")&&this.$element.on("invalid"+F,function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+F+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+F+".invalid")}).on("rendered"+F,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+F)}),i.$button.on("blur"+F,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+F)})}),setTimeout(function(){i.createLi(),i.$element.trigger("loaded"+F)})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t="",i=this.autofocus?" autofocus":"";B.major<4&&this.$element.parent().hasClass("input-group")&&(t=" input-group-btn");var s,n="",o="",a="",r="";return this.options.header&&(n='<div class="'+R.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(o='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+S(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+R.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+R.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(r='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+R.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),s='<div class="dropdown bootstrap-select'+e+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===B.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+R.MENU+" "+("4"===B.major?"":R.SHOW)+'" role="combobox">'+n+o+a+'<div class="inner '+R.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+R.MENU+" inner "+("4"===B.major?R.SHOW:"")+'"></ul></div>'+r+"</div></div>",H(s)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(A,e){e=e||0;var L=this;this.selectpicker.current=A?this.selectpicker.search:this.selectpicker.main;var z,D,O=[];function i(e,t){var i,s,n,o,a,r,l,c,d=L.selectpicker.current.elements.length,p=[],h=!0,u=L.isVirtual();L.selectpicker.view.scrollTop=e,!0===u&&L.sizeInfo.hasScrollBar&&L.$menu[0].offsetWidth>L.sizeInfo.totalMenuWidth&&(L.sizeInfo.menuWidth=L.$menu[0].offsetWidth,L.sizeInfo.totalMenuWidth=L.sizeInfo.menuWidth+L.sizeInfo.scrollBarWidth,L.$menu.css("min-width",L.sizeInfo.menuWidth)),i=Math.ceil(L.sizeInfo.menuInnerHeight/L.sizeInfo.liHeight*1.5),s=Math.round(d/i)||1;for(var f=0;f<s;f++){var m=(f+1)*i;if(f===s-1&&(m=d),p[f]=[f*i+(f?1:0),m],!d)break;void 0===a&&e<=L.selectpicker.current.data[m-1].position-L.sizeInfo.menuInnerHeight&&(a=f)}if(void 0===a&&(a=0),r=[L.selectpicker.view.position0,L.selectpicker.view.position1],n=Math.max(0,a-1),o=Math.min(s-1,a+1),L.selectpicker.view.position0=!1===u?0:Math.max(0,p[n][0])||0,L.selectpicker.view.position1=!1===u?d:Math.min(d,p[o][1])||0,l=r[0]!==L.selectpicker.view.position0||r[1]!==L.selectpicker.view.position1,void 0!==L.activeIndex&&(D=L.selectpicker.main.elements[L.prevActiveIndex],O=L.selectpicker.main.elements[L.activeIndex],z=L.selectpicker.main.elements[L.selectedIndex],t&&(L.activeIndex!==L.selectedIndex&&O&&O.length&&(O.classList.remove("active"),O.firstChild&&O.firstChild.classList.remove("active")),L.activeIndex=void 0),L.activeIndex&&L.activeIndex!==L.selectedIndex&&z&&z.length&&(z.classList.remove("active"),z.firstChild&&z.firstChild.classList.remove("active"))),void 0!==L.prevActiveIndex&&L.prevActiveIndex!==L.activeIndex&&L.prevActiveIndex!==L.selectedIndex&&D&&D.length&&(D.classList.remove("active"),D.firstChild&&D.firstChild.classList.remove("active")),(t||l)&&(c=L.selectpicker.view.visibleElements?L.selectpicker.view.visibleElements.slice():[],L.selectpicker.view.visibleElements=!1===u?L.selectpicker.current.elements:L.selectpicker.current.elements.slice(L.selectpicker.view.position0,L.selectpicker.view.position1),L.setOptionStatus(),(A||!1===u&&t)&&(h=!function(e,i){return e.length===i.length&&e.every(function(e,t){return e===i[t]})}(c,L.selectpicker.view.visibleElements)),(t||!0===u)&&h)){var v,g,b=L.$menuInner[0],w=document.createDocumentFragment(),x=b.firstChild.cloneNode(!1),y=L.selectpicker.view.visibleElements,$=[];b.replaceChild(x,b.firstChild);f=0;for(var I=y.length;f<I;f++){var k,S,E=y[f];L.options.sanitize&&(k=E.lastChild)&&(S=L.selectpicker.current.data[f+L.selectpicker.view.position0])&&S.content&&!S.sanitized&&($.push(k),S.sanitized=!0),w.appendChild(E)}L.options.sanitize&&$.length&&N($,L.options.whiteList,L.options.sanitizeFn),!0===u&&(v=0===L.selectpicker.view.position0?0:L.selectpicker.current.data[L.selectpicker.view.position0-1].position,g=L.selectpicker.view.position1>d-1?0:L.selectpicker.current.data[d-1].position-L.selectpicker.current.data[L.selectpicker.view.position1-1].position,b.firstChild.style.marginTop=v+"px",b.firstChild.style.marginBottom=g+"px"),b.firstChild.appendChild(w)}if(L.prevActiveIndex=L.activeIndex,L.options.liveSearch){if(A&&t){var C,T=0;L.selectpicker.view.canHighlight[T]||(T=1+L.selectpicker.view.canHighlight.slice(1).indexOf(!0)),C=L.selectpicker.view.visibleElements[T],L.selectpicker.view.currentActive&&(L.selectpicker.view.currentActive.classList.remove("active"),L.selectpicker.view.currentActive.firstChild&&L.selectpicker.view.currentActive.firstChild.classList.remove("active")),C&&(C.classList.add("active"),C.firstChild&&C.firstChild.classList.add("active")),L.activeIndex=(L.selectpicker.current.data[T]||{}).index}}else L.$menuInner.trigger("focus")}this.setPositionData(),i(e,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){L.noScroll||i(this.scrollTop,t),L.noScroll=!1}),H(window).off("resize"+F+"."+this.selectId+".createView").on("resize"+F+"."+this.selectId+".createView",function(){L.$newElement.hasClass(R.SHOW)&&i(L.$menuInner[0].scrollTop)})},setPlaceholder:function(){var e=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=!0;var t=this.$element[0],i=!1,s=!this.selectpicker.view.titleOption.parentNode;if(s)this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=void 0===H(t.options[t.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected");!s&&0===this.selectpicker.view.titleOption.index||t.insertBefore(this.selectpicker.view.titleOption,t.firstChild),i&&(t.selectedIndex=0)}return e},createLi:function(){var l=this,f=this.options.iconBase,m=':not([hidden]):not([data-hidden="true"])',v=[],g=[],c=0,b=0,e=this.setPlaceholder()?1:0;this.options.hideDisabled&&(m+=":not(:disabled)"),!l.options.showTick&&!l.multiple||_.checkMark.parentNode||(_.checkMark.className=f+" "+l.options.tickIcon+" check-mark",_.a.appendChild(_.checkMark));var t=this.$element[0].querySelectorAll("select > *"+m);function w(e){var t=g[g.length-1];t&&"divider"===t.type&&(t.optID||e.optID)||((e=e||{}).type="divider",v.push(G(!1,R.DIVIDER,e.optID?e.optID+"div":void 0)),g.push(e))}function x(e,t){if((t=t||{}).divider="true"===e.getAttribute("data-divider"),t.divider)w({optID:t.optID});else{var i=g.length,s=e.style.cssText,n=s?S(s):"",o=(e.className||"")+(t.optgroupClass||"");t.optID&&(o="opt "+o),t.text=e.textContent,t.content=e.getAttribute("data-content"),t.tokens=e.getAttribute("data-tokens"),t.subtext=e.getAttribute("data-subtext"),t.icon=e.getAttribute("data-icon"),t.iconBase=f;var a=Y(t);v.push(G(K(a,o,n),"",t.optID)),e.liIndex=i,t.display=t.content||t.text,t.type="option",t.index=i,t.option=e,t.disabled=t.disabled||e.disabled,g.push(t);var r=0;t.display&&(r+=t.display.length),t.subtext&&(r+=t.subtext.length),t.icon&&(r+=1),c<r&&(c=r,l.selectpicker.view.widestOption=v[v.length-1])}}function i(e,t){var i=t[e],s=t[e-1],n=t[e+1],o=i.querySelectorAll("option"+m);if(o.length){var a,r,l={label:S(i.label),subtext:i.getAttribute("data-subtext"),icon:i.getAttribute("data-icon"),iconBase:f},c=" "+(i.className||"");b++,s&&w({optID:b});var d=J(l);v.push(G(d,"dropdown-header"+c,b)),g.push({display:l.label,subtext:l.subtext,type:"optgroup-label",optID:b});for(var p=0,h=o.length;p<h;p++){var u=o[p];0===p&&(r=(a=g.length-1)+h),x(u,{headerIndex:a,lastIndex:r,optID:b,optgroupClass:c,disabled:i.disabled})}n&&w({optID:b})}}for(var s=t.length;e<s;e++){var n=t[e];"OPTGROUP"!==n.tagName?x(n,{}):i(e,t)}this.selectpicker.main.elements=v,this.selectpicker.main.data=g,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var e,t=this,i=this.$element[0].selectedOptions,s=i.length,n=this.$button[0],o=n.querySelector(".filter-option-inner-inner"),a=document.createTextNode(this.options.multipleSeparator),r=_.fragment.cloneNode(!1),l=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)r=Y({text:this.options.title},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<s&&(1<(e=this.options.selectedTextFormat.split(">")).length&&s>e[1]||1===e.length&&2<=s))){for(var c=0;c<s&&c<50;c++){var d=i[c],p={},h={content:d.getAttribute("data-content"),subtext:d.getAttribute("data-subtext"),icon:d.getAttribute("data-icon")};this.multiple&&0<c&&r.appendChild(a.cloneNode(!1)),d.title?p.text=d.title:h.content&&t.options.showContent?(p.content=h.content.toString(),l=!0):(t.options.showIcon&&(p.icon=h.icon,p.iconBase=this.options.iconBase),t.options.showSubtext&&!t.multiple&&h.subtext&&(p.subtext=" "+h.subtext),p.text=d.textContent.trim()),r.appendChild(Y(p,!0))}49<s&&r.appendChild(document.createTextNode("..."))}else{var u=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(u+=":not(:disabled)");var f=this.$element[0].querySelectorAll("select > option"+u+", optgroup"+u+" option"+u).length,m="function"==typeof this.options.countSelectedText?this.options.countSelectedText(s,f):this.options.countSelectedText;r=Y({text:m.replace("{0}",s.toString()).replace("{1}",f.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),r.childNodes.length||(r=Y({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),n.title=r.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&l&&N([r],t.options.whiteList,t.options.sanitizeFn),o.innerHTML="",o.appendChild(r),B.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var v=n.querySelector(".filter-expand"),g=o.cloneNode(!0);g.className="filter-expand",v?n.replaceChild(g,v):n.appendChild(g)}this.$element.trigger("rendered"+F)},setStyle:function(e,t){var i,s=this.$button[0],n=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),B.major<4&&(n.classList.add("bs3"),n.parentNode.classList.contains("input-group")&&(n.previousElementSibling||n.nextElementSibling)&&(n.previousElementSibling||n.nextElementSibling).classList.contains("input-group-addon")&&n.classList.add("bs3-has-addon")),i=e?e.trim():o,"add"==t?i&&s.classList.add.apply(s.classList,i.split(" ")):"remove"==t?i&&s.classList.remove.apply(s.classList,i.split(" ")):(o&&s.classList.remove.apply(s.classList,o.split(" ")),i&&s.classList.add.apply(s.classList,i.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var t=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),n=document.createElement("ul"),o=document.createElement("li"),a=document.createElement("li"),r=document.createElement("li"),l=document.createElement("a"),c=document.createElement("span"),d=this.options.header&&0<this.$menu.find("."+R.POPOVERHEADER).length?this.$menu.find("."+R.POPOVERHEADER)[0].cloneNode(!0):null,p=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,f=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",l.className="dropdown-item "+(f?f.className:""),t.className=this.$menu[0].parentNode.className+" "+R.SHOW,t.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(i.style.minWidth=0),i.className=R.MENU+" "+R.SHOW,s.className="inner "+R.SHOW,n.className=R.MENU+" inner "+("4"===B.major?R.SHOW:""),o.className=R.DIVIDER,a.className="dropdown-header",c.appendChild(document.createTextNode("​")),l.appendChild(c),r.appendChild(l),a.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&n.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),n.appendChild(r),n.appendChild(o),n.appendChild(a),d&&i.appendChild(d),p){var m=document.createElement("input");p.className="bs-searchbox",m.className="form-control",p.appendChild(m),i.appendChild(p)}h&&i.appendChild(h),s.appendChild(n),i.appendChild(s),u&&i.appendChild(u),t.appendChild(i),document.body.appendChild(t);var v,g=r.offsetHeight,b=a?a.offsetHeight:0,w=d?d.offsetHeight:0,x=p?p.offsetHeight:0,y=h?h.offsetHeight:0,$=u?u.offsetHeight:0,I=H(o).outerHeight(!0),k=!!window.getComputedStyle&&window.getComputedStyle(i),S=i.offsetWidth,E=k?null:H(i),C={vert:A(k?k.paddingTop:E.css("paddingTop"))+A(k?k.paddingBottom:E.css("paddingBottom"))+A(k?k.borderTopWidth:E.css("borderTopWidth"))+A(k?k.borderBottomWidth:E.css("borderBottomWidth")),horiz:A(k?k.paddingLeft:E.css("paddingLeft"))+A(k?k.paddingRight:E.css("paddingRight"))+A(k?k.borderLeftWidth:E.css("borderLeftWidth"))+A(k?k.borderRightWidth:E.css("borderRightWidth"))},T={vert:C.vert+A(k?k.marginTop:E.css("marginTop"))+A(k?k.marginBottom:E.css("marginBottom"))+2,horiz:C.horiz+A(k?k.marginLeft:E.css("marginLeft"))+A(k?k.marginRight:E.css("marginRight"))+2};s.style.overflowY="scroll",v=i.offsetWidth-S,document.body.removeChild(t),this.sizeInfo.liHeight=g,this.sizeInfo.dropdownHeaderHeight=b,this.sizeInfo.headerHeight=w,this.sizeInfo.searchHeight=x,this.sizeInfo.actionsHeight=y,this.sizeInfo.doneButtonHeight=$,this.sizeInfo.dividerHeight=I,this.sizeInfo.menuPadding=C,this.sizeInfo.menuExtras=T,this.sizeInfo.menuWidth=S,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=v,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,t=H(window),i=this.$newElement.offset(),s=H(this.options.container);this.options.container&&s.length&&!s.is("body")?((e=s.offset()).top+=parseInt(s.css("borderTopWidth")),e.left+=parseInt(s.css("borderLeftWidth"))):e={top:0,left:0};var n=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-n[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-n[1],this.sizeInfo.selectOffsetTop-=n[0],this.sizeInfo.selectOffsetLeft-=n[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,s,n,o,a,r,l=this.sizeInfo.selectWidth,c=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,p=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,v=0;if(this.options.dropupAuto&&(r=c*this.selectpicker.current.elements.length+m.vert,this.$newElement.toggleClass(R.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&r+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)n=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,s=n+d+p+h+u,a=Math.max(n-m.vert,0),this.$newElement.hasClass(R.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),t=(o=i)-d-p-h-u-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&v++;t=(i=c*this.options.size+v*f+m.vert)-m.vert,o=i+d+p+h+u,s=a=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(R.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-l),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":s+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":a+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var t,i=this,s=H(window),n=0;if(this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),"auto"===this.options.size?s.off("resize"+F+"."+this.selectId+".setMenuSize scroll"+F+"."+this.selectId+".setMenuSize").on("resize"+F+"."+this.selectId+".setMenuSize scroll"+F+"."+this.selectId+".setMenuSize",function(){return i.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&s.off("resize"+F+"."+this.selectId+".setMenuSize scroll"+F+"."+this.selectId+".setMenuSize"),e)n=this.$menuInner[0].scrollTop;else if(!i.multiple){var o=i.$element[0];"number"==typeof(t=(o.options[o.selectedIndex]||{}).liIndex)&&!1!==i.options.size&&(n=(n=i.sizeInfo.liHeight*t)-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2)}i.createView(!1,n)}},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.$element.on("loaded"+F,function(){i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=H('<div class="bs-container" />');function e(e){var t={},i=a.options.display||!!H.fn.dropdown.Constructor.Default&&H.fn.dropdown.Constructor.Default.display;a.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(R.DROPUP,e.hasClass(R.DROPUP)),s=e.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),o=e.hasClass(R.DROPUP)?0:e[0].offsetHeight,(B.major<4||"static"===i)&&(t.top=s.top-n.top+o,t.left=s.left-n.left),t.width=e[0].offsetWidth,a.$bsContainer.css(t)}var s,n,o,a=this,r=H(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){a.isDisabled()||(e(a.$newElement),a.$bsContainer.appendTo(a.options.container).toggleClass(R.SHOW,!a.$button.hasClass(R.SHOW)).append(a.$menu))}),H(window).off("resize"+F+"."+this.selectId+" scroll"+F+"."+this.selectId).on("resize"+F+"."+this.selectId+" scroll"+F+"."+this.selectId,function(){a.$newElement.hasClass(R.SHOW)&&e(a.$newElement)}),this.$element.on("hide"+F,function(){a.$menu.data("height",a.$menu.height()),a.$bsContainer.detach()})},setOptionStatus:function(){var e=this;if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var t=0;t<e.selectpicker.view.visibleElements.length;t++){var i=e.selectpicker.current.data[t+e.selectpicker.view.position0],s=i.option;s&&(e.setDisabled(i.index,i.disabled),e.setSelected(i.index,s.selected))}},setSelected:function(e,t){var i,s,n=this.selectpicker.main.elements[e],o=this.selectpicker.main.data[e],a=void 0!==this.activeIndex,r=this.activeIndex===e||t&&!this.multiple&&!a;o.selected=t,s=n.firstChild,t&&(this.selectedIndex=e),n.classList.toggle("selected",t),n.classList.toggle("active",r),r&&(this.selectpicker.view.currentActive=n,this.activeIndex=e),s&&(s.classList.toggle("selected",t),s.classList.toggle("active",r),s.setAttribute("aria-selected",t)),r||!a&&t&&void 0!==this.prevActiveIndex&&((i=this.selectpicker.main.elements[this.prevActiveIndex]).classList.remove("active"),i.firstChild&&i.firstChild.classList.remove("active"))},setDisabled:function(e,t){var i,s=this.selectpicker.main.elements[e];this.selectpicker.main.data[e].disabled=t,i=s.firstChild,s.classList.toggle(R.DISABLED,t),i&&("4"===B.major&&i.classList.toggle(R.DISABLED,t),i.setAttribute("aria-disabled",t),t?i.setAttribute("tabindex",-1):i.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement[0].classList.add(R.DISABLED),this.$button.addClass(R.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(R.DISABLED)&&(this.$newElement[0].classList.remove(R.DISABLED),this.$button.removeClass(R.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var S=this,t=H(document);function e(){S.options.liveSearch?S.$searchbox.trigger("focus"):S.$menuInner.trigger("focus")}function i(){S.dropdown&&S.dropdown._popper&&S.dropdown._popper.state.isCreated?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<B.major&&!S.dropdown&&(S.dropdown=S.$button.data("bs.dropdown"),S.dropdown._menu=S.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){S.$newElement.hasClass(R.SHOW)||S.setSize()}),this.$element.on("shown"+F,function(){S.$menuInner[0].scrollTop!==S.selectpicker.view.scrollTop&&(S.$menuInner[0].scrollTop=S.selectpicker.view.scrollTop),3<B.major?requestAnimationFrame(i):e()}),this.$menuInner.on("click","li a",function(e,t){var i=H(this),s=S.isVirtual()?S.selectpicker.view.position0:0,n=S.selectpicker.current.data[i.parent().index()+s],o=n.index,a=E(S.$element[0]),r=S.$element.prop("selectedIndex"),l=!0;if(S.multiple&&1!==S.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!S.isDisabled()&&!i.parent().hasClass(R.DISABLED)){var c=S.$element.find("option"),d=n.option,p=H(d),h=d.selected,u=p.parent("optgroup"),f=u.find("option"),m=S.options.maxOptions,v=u.data("maxOptions")||!1;if(o===S.activeIndex&&(t=!0),t||(S.prevActiveIndex=S.activeIndex,S.activeIndex=void 0),S.multiple){if(d.selected=!h,S.setSelected(o,!h),i.trigger("blur"),!1!==m||!1!==v){var g=m<c.filter(":selected").length,b=v<u.find("option:selected").length;if(m&&g||v&&b)if(m&&1==m){c.prop("selected",!1),p.prop("selected",!0);for(var w=0;w<c.length;w++)S.setSelected(w,!1);S.setSelected(o,!0)}else if(v&&1==v){u.find("option:selected").prop("selected",!1),p.prop("selected",!0);for(w=0;w<f.length;w++){d=f[w];S.setSelected(c.index(d),!1)}S.setSelected(o,!0)}else{var x="string"==typeof S.options.maxOptionsText?[S.options.maxOptionsText,S.options.maxOptionsText]:S.options.maxOptionsText,y="function"==typeof x?x(m,v):x,$=y[0].replace("{n}",m),I=y[1].replace("{n}",v),k=H('<div class="notify"></div>');y[2]&&($=$.replace("{var}",y[2][1<m?0:1]),I=I.replace("{var}",y[2][1<v?0:1])),p.prop("selected",!1),S.$menu.append(k),m&&g&&(k.append(H("<div>"+$+"</div>")),l=!1,S.$element.trigger("maxReached"+F)),v&&b&&(k.append(H("<div>"+I+"</div>")),l=!1,S.$element.trigger("maxReachedGrp"+F)),setTimeout(function(){S.setSelected(o,!1)},10),k.delay(750).fadeOut(300,function(){H(this).remove()})}}}else c.prop("selected",!1),d.selected=!0,S.setSelected(o,!0);!S.multiple||S.multiple&&1===S.options.maxOptions?S.$button.trigger("focus"):S.options.liveSearch&&S.$searchbox.trigger("focus"),l&&(a!=E(S.$element[0])&&S.multiple||r!=S.$element.prop("selectedIndex")&&!S.multiple)&&(C=[d.index,p.prop("selected"),a],S.$element.triggerNative("change"))}}),this.$menu.on("click","li."+R.DISABLED+" a, ."+R.POPOVERHEADER+", ."+R.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),S.options.liveSearch&&!H(e.target).hasClass("close")?S.$searchbox.trigger("focus"):S.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),S.options.liveSearch?S.$searchbox.trigger("focus"):S.$button.trigger("focus")}),this.$menu.on("click","."+R.POPOVERHEADER+" .close",function(){S.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){S.options.liveSearch?S.$searchbox.trigger("focus"):S.$button.trigger("focus"),e.preventDefault(),e.stopPropagation(),H(this).hasClass("bs-select-all")?S.selectAll():S.deselectAll()}),this.$element.on("change"+F,function(){S.render(),S.$element.trigger("changed"+F,C),C=null}).on("focus"+F,function(){S.options.mobile||S.$button.trigger("focus")})},liveSearchListener:function(){var u=this,f=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){u.$searchbox.val()&&u.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var e=u.$searchbox.val();if(u.selectpicker.search.elements=[],u.selectpicker.search.data=[],e){var t=[],i=e.toUpperCase(),s={},n=[],o=u._searchStyle(),a=u.options.liveSearchNormalize;a&&(i=w(i)),u._$lisSelected=u.$menuInner.find(".selected");for(var r=0;r<u.selectpicker.main.data.length;r++){var l=u.selectpicker.main.data[r];s[r]||(s[r]=I(l,i,o,a)),s[r]&&void 0!==l.headerIndex&&-1===n.indexOf(l.headerIndex)&&(0<l.headerIndex&&(s[l.headerIndex-1]=!0,n.push(l.headerIndex-1)),s[l.headerIndex]=!0,n.push(l.headerIndex),s[l.lastIndex+1]=!0),s[r]&&"optgroup-label"!==l.type&&n.push(r)}r=0;for(var c=n.length;r<c;r++){var d=n[r],p=n[r-1],h=(l=u.selectpicker.main.data[d],u.selectpicker.main.data[p]);("divider"!==l.type||"divider"===l.type&&h&&"divider"!==h.type&&c-1!==r)&&(u.selectpicker.search.data.push(l),t.push(u.selectpicker.main.elements[d]))}u.activeIndex=void 0,u.noScroll=!0,u.$menuInner.scrollTop(0),u.selectpicker.search.elements=t,u.createView(!0),t.length||(f.className="no-results",f.innerHTML=u.options.noneResultsText.replace("{0}",'"'+S(e)+'"'),u.$menuInner[0].firstChild.appendChild(f))}else u.$menuInner.scrollTop(0),u.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){if(void 0===e)return this.$element.val();var t=E(this.$element[0]);return C=[null,null,t],this.$element.val(e).trigger("changed"+F,C),this.render(),C=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,s=0,n=E(t);t.classList.add("bs-select-hidden");for(var o=0,a=this.selectpicker.current.elements.length;o<a;o++){var r=this.selectpicker.current.data[o],l=r.option;l&&!r.disabled&&"divider"!==r.type&&(r.selected&&i++,(l.selected=e)&&s++)}t.classList.remove("bs-select-hidden"),i!==s&&(this.setOptionStatus(),this.togglePlaceholder(),C=[null,null,n],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var t,i,s,n,o,a=H(this),r=a.hasClass("dropdown-toggle"),l=(r?a.closest(".dropdown"):a.closest(U.MENU)).data("this"),c=l.findLis(),d=!1,p=e.which===M&&!r&&!l.options.selectOnTab,h=V.test(e.which)||p,u=l.$menuInner[0].scrollTop,f=l.isVirtual(),m=!0===f?l.selectpicker.view.position0:0;if(!(i=l.$newElement.hasClass(R.SHOW))&&(h||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(l.$button.trigger("click.bs.dropdown.data-api"),l.options.liveSearch))l.$searchbox.trigger("focus");else{if(e.which===z&&i&&(e.preventDefault(),l.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),h){if(!c.length)return;void 0===(t=!0===f?c.index(c.filter(".active")):l.activeIndex)&&(t=-1),-1!==t&&((s=l.selectpicker.current.elements[t+m]).classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),e.which===P?(-1!==t&&t--,t+m<0&&(t+=c.length),l.selectpicker.view.canHighlight[t+m]||-1===(t=l.selectpicker.view.canHighlight.slice(0,t+m).lastIndexOf(!0)-m)&&(t=c.length-1)):e.which!==W&&!p||(++t+m>=l.selectpicker.view.canHighlight.length&&(t=0),l.selectpicker.view.canHighlight[t+m]||(t=t+1+l.selectpicker.view.canHighlight.slice(t+m+1).indexOf(!0))),e.preventDefault();var v=m+t;e.which===P?0===m&&t===c.length-1?(l.$menuInner[0].scrollTop=l.$menuInner[0].scrollHeight,v=l.selectpicker.current.elements.length-1):d=(o=(n=l.selectpicker.current.data[v]).position-n.height)<u:e.which!==W&&!p||(0===t?v=l.$menuInner[0].scrollTop=0:d=u<(o=(n=l.selectpicker.current.data[v]).position-l.sizeInfo.menuInnerHeight)),(s=l.selectpicker.current.elements[v])&&(s.classList.add("active"),s.firstChild&&s.firstChild.classList.add("active")),l.activeIndex=l.selectpicker.current.data[v].index,l.selectpicker.view.currentActive=s,d&&(l.$menuInner[0].scrollTop=o),l.options.liveSearch?l.$searchbox.trigger("focus"):a.trigger("focus")}else if(!a.is("input")&&!q.test(e.which)||e.which===O&&l.selectpicker.keydown.keyHistory){var g,b,w=[];e.preventDefault(),l.selectpicker.keydown.keyHistory+=L[e.which],l.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(l.selectpicker.keydown.resetKeyHistory.cancel),l.selectpicker.keydown.resetKeyHistory.cancel=l.selectpicker.keydown.resetKeyHistory.start(),b=l.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0));for(var x=0;x<l.selectpicker.current.data.length;x++){var y=l.selectpicker.current.data[x];I(y,b,"startsWith",!0)&&l.selectpicker.view.canHighlight[x]&&w.push(y.index)}if(w.length){var $=0;c.removeClass("active").find("a").removeClass("active"),1===b.length&&(-1===($=w.indexOf(l.activeIndex))||$===w.length-1?$=0:$++),g=w[$],d=0<u-(n=l.selectpicker.main.data[g]).position?(o=n.position-n.height,!0):(o=n.position-l.sizeInfo.menuInnerHeight,n.position>u+l.sizeInfo.menuInnerHeight),(s=l.selectpicker.main.elements[g]).classList.add("active"),s.firstChild&&s.firstChild.classList.add("active"),l.activeIndex=w[$],s.firstChild.focus(),d&&(l.$menuInner[0].scrollTop=o),a.trigger("focus")}}i&&(e.which===O&&!l.selectpicker.keydown.keyHistory||e.which===D||e.which===M&&l.options.selectOnTab)&&(e.which!==O&&e.preventDefault(),l.options.liveSearch&&e.which===O||(l.$menuInner.find(".active a").trigger("click",!0),a.trigger("focus"),l.options.liveSearch||(e.preventDefault(),H(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var e=H.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+F)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(F).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),H(window).off(F+"."+this.selectId)}};var Z=H.fn.selectpicker;H.fn.selectpicker=Q,H.fn.selectpicker.Constructor=X,H.fn.selectpicker.noConflict=function(){return H.fn.selectpicker=Z,this},H(document).off("keydown.bs.dropdown.data-api").on("keydown"+F,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',X.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),H(window).on("load"+F+".data-api",function(){H(".selectpicker").each(function(){var e=H(this);Q.call(e,e.data())})})}(e)}),function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var i={exports:{}};t(i,i.exports),e.autosize=i.exports}}(this,function(e,t){"use strict";var i,s,p="function"==typeof Map?new Map:(i=[],s=[],{has:function(e){return-1<i.indexOf(e)},get:function(e){return s[i.indexOf(e)]},set:function(e,t){-1===i.indexOf(e)&&(i.push(e),s.push(t))},delete:function(e){var t=i.indexOf(e);-1<t&&(i.splice(t,1),s.splice(t,1))}}),h=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){h=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function n(n){if(n&&n.nodeName&&"TEXTAREA"===n.nodeName&&!p.has(n)){var e,i=null,s=null,o=null,a=function(){n.clientWidth!==s&&d()},r=function(t){window.removeEventListener("resize",a,!1),n.removeEventListener("input",d,!1),n.removeEventListener("keyup",d,!1),n.removeEventListener("autosize:destroy",r,!1),n.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach(function(e){n.style[e]=t[e]}),p.delete(n)}.bind(n,{height:n.style.height,resize:n.style.resize,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",r,!1),"onpropertychange"in n&&"oninput"in n&&n.addEventListener("keyup",d,!1),window.addEventListener("resize",a,!1),n.addEventListener("input",d,!1),n.addEventListener("autosize:update",d,!1),n.style.overflowX="hidden",n.style.wordWrap="break-word",p.set(n,{destroy:r,update:d}),"vertical"===(e=window.getComputedStyle(n,null)).resize?n.style.resize="none":"both"===e.resize&&(n.style.resize="horizontal"),i="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(i)&&(i=0),d()}function l(e){var t=n.style.width;n.style.width="0px",n.offsetWidth,n.style.width=t,n.style.overflowY=e}function c(){if(0!==n.scrollHeight){var e=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(n),t=document.documentElement&&document.documentElement.scrollTop;n.style.height="",n.style.height=n.scrollHeight+i+"px",s=n.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),t&&(document.documentElement.scrollTop=t)}}function d(){c();var e=Math.round(parseFloat(n.style.height)),t=window.getComputedStyle(n,null),i="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):n.offsetHeight;if(i<e?"hidden"===t.overflowY&&(l("scroll"),c(),i="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight):"hidden"!==t.overflowY&&(l("hidden"),c(),i="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight),o!==i){o=i;var s=h("autosize:resized");try{n.dispatchEvent(s)}catch(e){}}}}function o(e){var t=p.get(e);t&&t.destroy()}function a(e){var t=p.get(e);t&&t.update()}var r=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((r=function(e){return e}).destroy=function(e){return e},r.update=function(e){return e}):((r=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},r.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e}),t.default=r,e.exports=t.default}),function(window,$){var fave=function(window,$){var FormDataWasChanged=!1;function IsDebugMode(){return window.fave_debug&&!0===window.fave_debug}function GetModalAlertTmpl(e,t,i){return'<div class="alert alert-'+(i?"danger":"success")+' alert-dismissible fade show" role="alert"><strong>'+e+"</strong> "+t+'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'}function ShowSystemMsg(e,t,i){var s=$(".modal.show .sys-messages");s.length||(s=$("form.alert-here .sys-messages")),s.length?s.html(GetModalAlertTmpl(e,t,i)):ShowSystemMsgModal(e,t,i)}function ShowSystemMsgModal(e,t,i){$("#sys-modal-system-message-placeholder").html("");var s='<div class="modal fade" id="sys-modal-system-message" tabindex="-1" role="dialog" aria-labelledby="sysModalSystemMessageLabel" aria-hidden="true"> \t\t\t\t<div class="modal-dialog modal-dialog-centered" role="document"> \t\t\t\t\t<div class="modal-content"> \t\t\t\t\t\t\t<input type="hidden" name="action" value="index-user-update-profile"> \t\t\t\t\t\t\t<div class="modal-header"> \t\t\t\t\t\t\t\t<h5 class="modal-title" id="sysModalSystemMessageLabel">'+e+'</h5> \t\t\t\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close"> \t\t\t\t\t\t\t\t\t<span aria-hidden="true">&times;</span> \t\t\t\t\t\t\t\t</button> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t<div class="modal-body text-left">'+t+'</div> \t\t\t\t\t\t\t<div class="modal-footer"> \t\t\t\t\t\t\t\t<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button> \t\t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t</div> \t\t\t</div>';$("#sys-modal-system-message-placeholder").html(s),$("#sys-modal-system-message").modal({backdrop:"static",keyboard:!0,show:!1}),$("#sys-modal-system-message").on("hidden.bs.modal",function(e){$("#sys-modal-system-message-placeholder").html("")}),$("#sys-modal-system-message").modal("show")}function AjaxEval(data){try{eval(data)}catch(e){e instanceof SyntaxError&&(console.log(data),console.log("Error: JavaScript code eval error",e.message))}}function AjaxDone(e){AjaxEval(e)}function AjaxFail(e,t,i){"error"===t.toLowerCase()&&"not found"===i.toLowerCase()?AjaxEval(e):(console.log("Error: data sending error, page will be reloaded",e,t,i),setTimeout(function(){window.location.reload(!1)},1e3))}function FormToAjax(i){i.submit(function(e){if(i.hasClass("loading"))e.preventDefault();else{i.addClass("loading").addClass("alert-here");var t=i.find("button[type=submit]");t.addClass("progress-bar-striped").addClass("progress-bar-animated"),""!=t.attr("data-target")&&$("#"+t.attr("data-target")).addClass("progress-bar-striped").addClass("progress-bar-animated"),i.find(".sys-messages").html(""),$.ajax({type:"POST",url:i.attr("action"),data:i.serialize()}).done(function(e){FormDataWasChanged=!1,IsDebugMode()&&console.log("done",e),AjaxDone(e)}).fail(function(e,t,i){IsDebugMode()&&console.log("fail",e,t,i),AjaxFail(e.responseText,t,i)}).always(function(){setTimeout(function(){i.removeClass("loading").removeClass("alert-here"),t.removeClass("progress-bar-striped").removeClass("progress-bar-animated"),""!=t.attr("data-target")&&$("#"+t.attr("data-target")).removeClass("progress-bar-striped").removeClass("progress-bar-animated")},100)}),e.preventDefault()}});var e=i.find("button[type=submit]");""!=e.attr("data-target")&&$("#"+e.attr("data-target")).click(function(){e.click()}),i.hasClass("prev-data-lost")&&i.find("input, textarea, select").on("input",function(){FormDataWasChanged||$(this).hasClass("ignore-lost-data")||(FormDataWasChanged=!0)})}function PreventDataLost(){FormDataWasChanged=FormDataWasChanged||!0}function HtmlDecode(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}function HtmlFixEditorHtml(e){return newValue=e,newValue=newValue.replace(/&nbsp;/gi,""),newValue}function AllFormsToAjax(){$("form").each(function(){FormToAjax($(this))})}function BindWindowBeforeUnload(){$(window).bind("beforeunload",function(){if(FormDataWasChanged)return"Some data was changed and not saved. Are you sure want to leave page?"})}function MakeTextAreasAutoSized(){autosize($("textarea.autosize"))}function MakeTextAreasWysiwyg(){$("textarea.wysiwyg").each(function(){var t=$(this)[0],e=t.id,i=t.name,s=t.innerHTML;$(t).wrap('<div id="'+e+'_wysiwyg" class="form-control wysiwyg" style="height:auto;padding:0px"></div>').remove();var n=document.getElementById(e+"_wysiwyg");n.id=e;var o=window.pell.init({element:n,onChange:function(e){t.innerHTML=HtmlFixEditorHtml(e),$(t).val(HtmlFixEditorHtml(e)),FormDataWasChanged=FormDataWasChanged||!0},defaultParagraphSeparator:"p",styleWithCSS:!1,actions:["paragraph","heading1","heading2","bold","italic","underline","strikethrough","ulist","olist","link",{name:"htmlcode",icon:"HTML",title:"HTML Source",result:function(e,t,i){var s=$(e),n=$(t),o=$(i);if(o.hasClass("pell-button-html-pressed")){o.removeClass("pell-button-html-pressed"),s.removeClass("pell-html-mode"),s.find(".pell-actionbar .pell-button").prop("disabled",!1);var a=s.find("textarea.form-control").val();t.innerHTML=HtmlFixEditorHtml(a),$(t).val(HtmlFixEditorHtml(a)),setTimeout(function(){n.focus()},0)}else o.addClass("pell-button-html-pressed"),s.addClass("pell-html-mode"),s.find(".pell-actionbar .pell-button").prop("disabled",!0),o.prop("disabled",!1),setTimeout(function(){s.find("textarea.form-control").focus()},0)}}],classes:{actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"}});o.onfocusin=function(){$(n).addClass("focused")},o.onfocusout=function(){$(n).find(".pell-actionbar button.pell-button-selected").removeClass("pell-button-selected"),$(n).removeClass("focused")},$(n).append('<textarea class="form-control" id="'+e+'_wysiwyg" name="'+i+'" style="display:none"></textarea>'),t=document.getElementById(e+"_wysiwyg"),$(t).on("input",function(){FormDataWasChanged=FormDataWasChanged||!0}),t.innerHTML=HtmlFixEditorHtml(HtmlDecode(s)),$(t).val(HtmlFixEditorHtml(HtmlDecode(s))),o.content.innerHTML=HtmlFixEditorHtml(HtmlDecode(s))})}function MakeTextAreasTmplEditor(){$("textarea.tmpl-editor").each(function(){var t=$(this)[0],e=$(this).data("emode"),i="text/html";"js"==e?i="javascript":"css"==e&&(i="css"),CodeMirror.fromTextArea(t,{lineNumbers:!0,lineWrapping:!0,viewportMargin:1/0,mode:i}).on("change",function(e){t.value=e.getValue()})})}function MakeTextAreasNotReactOnTab(){$("textarea.use-tab-key").each(function(){$(this).keydown(function(e){if(9===e.keyCode){var t=this.selectionStart,i=this.selectionEnd,s=$(this),n=s.val();s.val(n.substring(0,t)+"\t"+n.substring(i)),this.selectionStart=this.selectionEnd=t+1,e.preventDefault(),FormDataWasChanged=FormDataWasChanged||!0}})})}function Initialize(){"function"==typeof $?(AllFormsToAjax(),BindWindowBeforeUnload(),MakeTextAreasAutoSized(),MakeTextAreasWysiwyg(),MakeTextAreasTmplEditor(),MakeTextAreasNotReactOnTab()):console.log("Error: jQuery is not loaded!")}return window.addEventListener?window.addEventListener("load",Initialize,!1):window.attachEvent&&window.attachEvent("onload",Initialize),{ShowMsgSuccess:function(e,t){ShowSystemMsg(e,t,!1)},ShowMsgError:function(e,t){ShowSystemMsg(e,t,!0)},FormDataWasChanged:function(){PreventDataLost()},ModalUserProfile:function(){var e='<div class="modal fade" id="sys-modal-user-settings" tabindex="-1" role="dialog" aria-labelledby="sysModalUserSettingsLabel" aria-hidden="true"> \t\t\t\t\t<div class="modal-dialog modal-dialog-centered" role="document"> \t\t\t\t\t\t<div class="modal-content"> \t\t\t\t\t\t\t<form class="form-user-settings" action="/cp/" method="post" autocomplete="off"> \t\t\t\t\t\t\t\t<input type="hidden" name="action" value="index-user-update-profile"> \t\t\t\t\t\t\t\t<div class="modal-header"> \t\t\t\t\t\t\t\t\t<h5 class="modal-title" id="sysModalUserSettingsLabel">My profile</h5> \t\t\t\t\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close"> \t\t\t\t\t\t\t\t\t\t<span aria-hidden="true">&times;</span> \t\t\t\t\t\t\t\t\t</button> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<div class="modal-body text-left"> \t\t\t\t\t\t\t\t\t<div class="form-group"> \t\t\t\t\t\t\t\t\t\t<label for="first_name">First name</label> \t\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" id="first_name" name="first_name" value="'+window.CurrentUserProfileData.first_name+'" placeholder="User first name" autocomplete="off"> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t<div class="form-group"> \t\t\t\t\t\t\t\t\t\t<label for="last_name">Last name</label> \t\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" id="last_name" name="last_name" value="'+window.CurrentUserProfileData.last_name+'" placeholder="User last name" autocomplete="off"> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t<div class="form-group"> \t\t\t\t\t\t\t\t\t\t<label for="email">Email</label> \t\t\t\t\t\t\t\t\t\t<input type="email" class="form-control" id="email" name="email" value="'+window.CurrentUserProfileData.email+'" placeholder="User email" autocomplete="off" required> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t<div class="form-group"> \t\t\t\t\t\t\t\t\t\t<label for="password">New password</label> \t\t\t\t\t\t\t\t\t\t<input type="password" class="form-control" id="password" aria-describedby="passwordHelp" name="password" value="" placeholder="User new password" autocomplete="off"> \t\t\t\t\t\t\t\t\t\t<small id="passwordHelp" class="form-text text-muted">Leave this field empty if you don\'t want change your password</small> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t<div class="sys-messages"></div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<div class="modal-footer"> \t\t\t\t\t\t\t\t\t<button type="submit" class="btn btn-primary">Save</button> \t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</form> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t</div>';$("#sys-modal-user-settings-placeholder").html(e),$("#sys-modal-user-settings").modal({backdrop:"static",keyboard:!1,show:!1}),$("#sys-modal-user-settings").on("hidden.bs.modal",function(e){$("#sys-modal-user-settings-placeholder").html("")}),FormToAjax($("#sys-modal-user-settings form")),$("#sys-modal-user-settings").modal("show")},ShopProductsAdd:function(){var selText=$("#lbl_attributes option:selected").text(),selValue=$("#lbl_attributes").val();"0"!=selValue&&($("#lbl_attributes")[0].selectedIndex=0,$("#lbl_attributes").selectpicker("refresh"),0<$("#prod_attr_"+selValue).length||($("#list").append('<div class="form-group" id="prod_attr_'+selValue+'"><div><b>'+selText+'</b></div><div class="position-relative"><select class="form-control" name="value.'+selValue+'" autocomplete="off" required disabled><option value="0">Loading values...</option></select><button type="button" class="btn btn-danger btn-dynamic-remove" onclick="fave.ShopProductsRemove(this);" disabled>&times;</button></div></div>'),PreventDataLost(),$.ajax({type:"POST",url:"/cp/",data:{action:"shop-get-attribute-values",id:selValue}}).done(function(data){try{eval(data)}catch(e){e instanceof SyntaxError&&(console.log(data),console.log("Error: JavaScript code eval error",e.message))}}).fail(function(xhr,status,error){$("#prod_attr_"+selValue).remove();try{eval(xhr.responseText)}catch(e){e instanceof SyntaxError&&(console.log(xhr.responseText),console.log("Error: JavaScript code eval error",e.message))}})))},ShopProductsRemove:function(e){$(e).parent().parent().remove(),PreventDataLost()},ShopAttributesAdd:function(){$("#list").append('<div class="form-group position-relative"><input class="form-control" type="text" name="value.0" value="" placeholder="" autocomplete="off" required><button type="button" class="btn btn-danger btn-dynamic-remove" onclick="fave.ShopAttributesRemove(this);">&times;</button></div>'),PreventDataLost(),setTimeout(function(){$("#list input").last().focus()},100)},ShopAttributesRemove:function(e){$(e).parent().remove(),PreventDataLost()},ShopProductsUploadImage:function(action_name,product_id,input_id){var fd=new FormData;fd.append("action",action_name),fd.append("id",product_id),fd.append("file",$("#"+input_id)[0].files[0]),$.ajax({url:"/cp/",method:"POST",type:"POST",data:fd,contentType:!1,processData:!1}).done(function(data){try{eval(data)}catch(e){e instanceof SyntaxError&&(console.log(data),console.log("Error: JavaScript code eval error",e.message))}}).fail(function(xhr,status,error){try{eval(xhr.responseText)}catch(e){e instanceof SyntaxError&&(console.log(xhr.responseText),console.log("Error: JavaScript code eval error",e.message))}})},ShopProductsDeleteImage:function(e,t,i){$.ajax({type:"POST",url:"/cp/",data:{action:"shop-upload-delete",id:t,file:i}}).done(function(e){IsDebugMode()&&console.log("done",e),AjaxDone(e)}).fail(function(e,t,i){IsDebugMode()&&console.log("fail",e,t,i),AjaxFail(e.responseText,t,i)})},ActionLogout:function(e){confirm(e)&&$.ajax({type:"POST",url:"/cp/",data:{action:"index-user-logout"}}).done(function(e){IsDebugMode()&&console.log("done",e),AjaxDone(e)}).fail(function(e,t,i){IsDebugMode()&&console.log("fail",e,t,i),AjaxFail(e.responseText,t,i)})},ActionDataTableDelete:function(e,t,i,s){confirm(s)&&$.ajax({type:"POST",url:"/cp/",data:{action:t,id:i}}).done(function(e){IsDebugMode()&&console.log("done",e),AjaxDone(e)}).fail(function(e,t,i){IsDebugMode()&&console.log("fail",e,t,i),AjaxFail(e.responseText,t,i)})},ActionRestoreThemeFile:function(e,t,i){return confirm(i)&&$.ajax({type:"POST",url:"/cp/",data:{action:e,file:t}}).done(function(e){IsDebugMode()&&console.log("done",e),AjaxDone(e)}).fail(function(e,t,i){IsDebugMode()&&console.log("fail",e,t,i),AjaxFail(e.responseText,t,i)}),!1}}}(window,$);window.fave=fave}(window,jQuery);`)
